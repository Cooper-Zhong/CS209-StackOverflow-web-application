[{"owner":{"profile_image":"https://www.gravatar.com/avatar/36393a2d15f0c38a682c41167e2a9ddf?s=256&d=identicon&r=PG","account_id":26046837,"user_type":"registered","user_id":19750774,"link":"https://stackoverflow.com/users/19750774/hut-rudder","reputation":11,"display_name":"hut_rudder"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73376182/how-can-i-avoid-an-unchecked-overriding-warning-when-interface-methods-generi","last_activity_date":1660667395,"creation_date":1660662178,"answer_count":1,"title":"How can I avoid an &quot;Unchecked overriding&quot; warning when interface method&#39;s generic return is implemented with a concrete type in Java?","body":"<p>This is an educational question that relates to a hobby project. Project Spring Boot MVC/REST app.</p>\n<p>I would like to retain the flexibility to be able to create multiple implementations of Service and have list return a list of objects, depending on what the implementation requires.</p>\n<p>I appreciate I could create some inheritance/implementation hierarchy to define the kinds of objects of which T could encompass. My problem with both of those answers is that some use cases for Service involve me needing to return Lists of Java Standard Lib types - types I would rather not inherit/extend/implement for my own custom classes, which I would prefer be kept as lean as possible.</p>\n<pre><code>import java.util.List;\n\ninterface Service {\n    &lt;T&gt; List&lt;T&gt; list(String location, MyEnums.mediaType type );\n}\n\nclass MyEnums {\n    enum mediaType {\n        IMAGE, VIDEO, AUDIO\n    }\n}\n\nclass LocalService implements Service {\n    public List&lt;MyConcreteClass&gt; list(String location, MyEnums.mediaType type ) {\n        List&lt;MyConcreteClass&gt; list = null;\n        list.add(new MyConcreteClass(1, &quot;foo&quot;, new byte[0]));\n        return list;\n    }\n}\n\nclass MyConcreteClass implements Comparable&lt;MyConcreteClass&gt; {\n\n    private final long id;\n    private final String name;\n    private final byte[] data;\n\n    public MyConcreteClass(long id, String name, byte[] data) {\n        this.id = id;\n        this.name = name;\n        this.data = data;\n    }\n\n\n    @Override\n    public int compareTo(MyConcreteClass o) {\n        return this.name.compareTo(o.name);\n    }\n\n    // Other methods omitted for brevity\n}\n\n\n</code></pre>\n<p>The above code is only a simplified example of the actual app code - which compiles and runs without any (known) runtime bugs. However I get the compiler warning:</p>\n<blockquote>\n<p>Unchecked overriding: return type requires unchecked conversion.</p>\n</blockquote>\n<p>The presence of a warning makes sense to me - code consuming the Service interface/API could break at runtime if the return type requirement in the calling code is incompatible with the implementation, whereas the error would be caught at compile if I had a more specific List&lt;&gt; defined in the interface.</p>\n<p>This would, of course, not be an issue if I had to wire in a concrete implementation into the code consuming my service - however the joys of Spring!</p>\n<p><strong>What am I doing wrong? How can I fix this? Are generics the right way to achieve a polymorphic list() function in my case?</strong></p>\n","question_id":73376182,"tags":["java","generics","polymorphism"],"score":-1,"accepted_answer_id":73377291,"is_answered":true,"view_count":81,"last_edit_date":1660666967},{"owner":{"profile_image":"https://www.gravatar.com/avatar/14e71d13a04b8caaba5669e7b71d8ca6?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":10081294,"user_type":"registered","user_id":7451484,"link":"https://stackoverflow.com/users/7451484/mai65","reputation":93,"display_name":"Mai65"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73363223/use-compareto-on-more-specific-comparables-in-java","last_activity_date":1660587123,"creation_date":1660577664,"answer_count":1,"title":"use compareTo on more specific Comparables in Java","body":"<p>I would like to have a more specific Comparable interface so that I can type return parameters better.  The interface currently looks like this:</p>\n<pre><code>public interface SpecialComparable&lt;T extends SpecialComparable&lt;T&gt;&gt; extends Comparable&lt;T&gt; {\n}\n</code></pre>\n<p>Now when I try to sort a list of these more specific Comparables as shown below, I get an error because b is of type 'SpecialComparable' not of type 'T'.</p>\n<pre><code>public class UserClass {\n    public &lt;T extends SpecialComparable&lt;T&gt;&gt; UserClass(List&lt;SpecialComparable&lt;T&gt;&gt; comparables) {\n        Collections.sort(comparables, (a, b) -&gt; a.compareTo(b));\n    }\n}\n</code></pre>\n<p>To solve this problem, I can implement a Self method as shown below. This would solve my problem, but it looks very ugly. I would be happy if someone could find a nicer solution to the problem.</p>\n<pre><code>public interface SpecialComparable&lt;T extends SpecialComparable&lt;T&gt;&gt; extends Comparable&lt;T&gt; {\n    T self();\n}\n\npublic class UserClass {\n    public &lt;T extends SpecialComparable&lt;T&gt;&gt; UserClass(List&lt;SpecialComparable&lt;T&gt;&gt; comparables) {\n        Collections.sort(comparables, (a, b) -&gt; a.compareTo(b.self()));\n    }\n}\n</code></pre>\n","question_id":73363223,"tags":["java","sorting","generics","comparable"],"score":0,"accepted_answer_id":73363594,"is_answered":true,"view_count":58,"last_edit_date":1660587123},{"owner":{"profile_image":"https://www.gravatar.com/avatar/918ebcd48bf76e73ecf214601dc183db?s=256&d=identicon&r=PG","account_id":2374678,"user_type":"registered","user_id":2078393,"link":"https://stackoverflow.com/users/2078393/snakybo","reputation":429,"display_name":"Snakybo","accept_rate":100},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/28921833/why-is-this-an-unchecked-cast-and-how-to-fix-it","last_activity_date":1660410228,"creation_date":1425775482,"answer_count":3,"title":"Why is this an unchecked cast? And how to fix it?","body":"<p>I have the following code:</p>\n\n<pre><code>public final &lt;T extends Component&gt; T getComponent(Class&lt;T&gt; type) {\n    Iterator&lt;Component&gt; it = components.iterator();\n\n    while(it.hasNext()) {\n        Component next = it.next();\n\n        if(type.isAssignableFrom(next.getClass()))\n            return (T)next; // Why is this an unchecked cast from Component to T?\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>And for some reason, <code>return (T)next;</code> is an unchecked cast from Component to T.</p>\n\n<p>I'm not sure as to why this is, because T has to extend Component, it should be able to safely cast it to any subclasses of Component, right?</p>\n\n<p>If I manually do <code>return (TestComponent)next;</code> and change the return type to TestComponent it works fine, so why doesn't it work with T?</p>\n","question_id":28921833,"tags":["java","generics","iterator"],"score":8,"accepted_answer_id":28921986,"is_answered":true,"view_count":3341},{"owner":{"profile_image":"https://www.gravatar.com/avatar/14e2a483d62541485fb38b7dd3e028a1?s=256&d=identicon&r=PG","account_id":26054015,"user_type":"registered","user_id":19756689,"link":"https://stackoverflow.com/users/19756689/rashmi","reputation":230,"display_name":"rashmi"},"closed_date":1660394222,"link":"https://stackoverflow.com/questions/73344126/generics-in-java-at-method-level","last_activity_date":1660408185,"creation_date":1660392511,"answer_count":1,"title":"Generics in java at method level","body":"<p>I am new to java. I am trying to debug a code and not able to understand one line.</p>\n<pre><code>public interface CommandDispatcher {\n    &lt;T extends BaseCommand&gt; void registerHandler(Class&lt;T&gt; type, CommandHandlerMethod&lt;T&gt; handler);\n    void send(BaseCommand command);\n}\n</code></pre>\n<p>I know generics but not able to understand below line.</p>\n<pre><code> &lt;T extends BaseCommand&gt; void registerHandler(Class&lt;T&gt; type, CommandHandlerMethod&lt;T&gt;)\n</code></pre>\n<p>what is  <code>&lt;T extends BaseCommand&gt;</code> before <code>void</code> also I am not ablr to understand <code>Class&lt;T&gt;</code></p>\n<p>Can somebody explain me to understand the above line. Consider <code>BaseCommand</code> is an <code>interface.</code></p>\n","question_id":73344126,"tags":["java","spring","spring-boot","generics","backend"],"score":1,"accepted_answer_id":73344263,"closed_reason":"Duplicate","is_answered":true,"view_count":86},{"owner":{"profile_image":"https://lh3.googleusercontent.com/a/AATXAJwfEQk0w22FqXuWcsQa4e_Ss7SuNu22UEkyjjoA=k-s256","account_id":25708523,"user_type":"registered","user_id":19467443,"link":"https://stackoverflow.com/users/19467443/kevin-paul","reputation":11,"display_name":"Kevin Paul"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73328558/how-to-specify-the-generic-type-of-a-collection","last_activity_date":1660278181,"creation_date":1660269902,"answer_count":1,"title":"How to specify the generic type of a collection?","body":"<p>I want to define a function which can convert a kind of Set to another, like convert HashSet to LinkedHashSet. Here is the function declaration. The sp is sharedpreferences.</p>\n<pre><code>public Set&lt;String&gt; decodeStringSet(String key, @Nullable Set&lt;String&gt; defaultValue, Class&lt;? extends Set&gt; cls){\n    Set&lt;String&gt; result = sp.getStringSet(key, defaultValue);\n    if(result == null){\n        return defaultValue;\n    }\n    else {\n        String[] array = result.toArray(new String[0]);\n        Set&lt;String&gt; a;\n        try {\n            a = cls.newInstance();\n        } catch (IllegalAccessException | InstantiationException var7) {\n            return defaultValue;\n        }\n\n        a.addAll(Arrays.asList(array));\n        return a;\n    }\n}\n</code></pre>\n<p>However, the compiler remind me that &quot;Unchecked assignment: '? extends java.util.Set' to 'java.util.Set&lt;java.lang.String&gt;'&quot; on &quot;a = cls.newInstance();&quot;. I don't know how to change cls to cls&lt;java.lang.String&gt;.</p>\n","question_id":73328558,"tags":["java","generics","reflection","collections"],"score":0,"is_answered":true,"view_count":193,"last_edit_date":1660278181},{"owner":{"profile_image":"https://www.gravatar.com/avatar/6bf361b5df317509cdfc813cb4297b56?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":12491593,"user_type":"registered","user_id":9092943,"link":"https://stackoverflow.com/users/9092943/lois2b","reputation":111,"display_name":"Lois2B"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73319233/what-design-pattern-could-work-with-such-a-generic-type-in-java","last_activity_date":1660230348,"creation_date":1660214114,"answer_count":1,"title":"What design pattern could work with such a generic type in Java?","body":"<p>Consider having a generic type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface &lt;T&gt; Assigner {\n    &lt;S&gt; S assign(T type);\n}\n</code></pre>\n<p>Now, let's say I want to have different types of assigners that could assign an object of any type <code>T</code> to a group of any type <code>S</code>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface PlayerAssigner extends Assigner&lt;Player&gt; {\n    &lt;S&gt; S assign(Player player);\n}\n\ninterface ManagerAssigner extends Assigner&lt;Manager&gt; {\n    &lt;S&gt; S assign(Manager manager);\n}\n\n...\n</code></pre>\n<p>I would also like to introduce a group-type-based assigner, but this is where I got stuck.\nI tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CityBasedAssigner&lt;T&gt; extends Assigner&lt;T&gt; {\n    City assign(T type);\n}\n</code></pre>\n<p>, but this won't work, it says that both methods have the same erasure. I don't know whether it should be an abstract class or something different, or whether the whole concept could be simplified.\nWhat I want is to be able to instantiate different types of assigners from the combination of two type parameters, e.g. CityBasedPlayerAssigner, CountryBasedPlayerAssigner, CountryBasedManagerAssigner, etc., and this would have been the next step: combining the two extended interfaces and create many implementations based on these two.</p>\n<p>What am I missing here?</p>\n","question_id":73319233,"tags":["java","generics"],"score":0,"is_answered":true,"view_count":64,"last_edit_date":1660214292},{"owner":{"profile_image":"https://lh4.googleusercontent.com/--VSKUaB3mAg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXAe7cOv3fQ7m26TMZh8Ei3fq6Gg/mo/photo.jpg?sz=256","account_id":15676985,"user_type":"registered","user_id":11312013,"link":"https://stackoverflow.com/users/11312013/konstantin-rezchikov","reputation":73,"display_name":"Konstantin Rezchikov"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73313839/how-to-assign-mapstring-t-in-class-using-a-generic-function-without-casting","last_activity_date":1660176633,"creation_date":1660175016,"answer_count":1,"title":"How to assign Map&lt;String, T&gt; in class using a generic function without casting","body":"<p>I am working on some code.\nI have a class like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Document {\n\n//assume there are getters and setters\nMap&lt;String, Number&gt; idToRatings;\nMap&lt;String, String&gt; idToNames;\n\npublic &lt;T&gt; void setNewMapAttribute(Function&lt;Map&lt;String, T&gt;, Map&lt;String, T&gt;&gt; mapConsumer){\n        this.setIdToRatings((Map&lt;String, Number&gt;) mapConsumer.apply((Map&lt;String, T&gt;) this.idToRatings()));\n        this.idToNames((Map&lt;String, String&gt;) mapConsumer.apply((Map&lt;String, T&gt;) this.idToNames()));\n\n    }\n}\n</code></pre>\n<p>Then in an another class I have a function like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; Map&lt;String, T&gt; filterMapKeys(Map&lt;String, T&gt; givenMap) {\n        return givenMap\n                .entrySet()\n                .stream()\n                .filter(stringTEntry -&gt; attributeIds.contains(stringTEntry.getKey()))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n</code></pre>\n<p>This method would then be used like this ideally</p>\n<pre class=\"lang-java prettyprint-override\"><code>doucment.setNewMapAttribute(this::filterMapKeys);\n</code></pre>\n<p>I would like to create a way where I can filter any of properties in the class by a list of ids. Since the Maps in <code>Document</code> contain different key values, I need to use generics. The code in the end would take in a list of ids like <code>List.of(&quot;123&quot;, &quot;456&quot;)</code> and return a Document that only has the ids 123 and 456 in either of it's properties. However, intellij is requiring the casting in <code>setNewMapAttribute</code> which I would like to avoid.</p>\n<p>Is there anything I can do about this casting? Is there a different type of generic signature I can use to make the function work without the casting?</p>\n<p>It makes sense to me that if my function only uses the key type of the Map, then I should be able to filter on ids within all attributes without the casting seen in <code>setNewMapAttribute</code>. The type of the value in Maps, does not concern my filtering function.</p>\n","question_id":73313839,"tags":["java","generics"],"score":0,"accepted_answer_id":73313972,"is_answered":true,"view_count":476},{"owner":{"profile_image":"https://lh3.googleusercontent.com/-3wWO7Ba8qP4/AAAAAAAAAAI/AAAAAAAAHh0/igFyOazWEY0/photo.jpg?sz=256","account_id":7309932,"user_type":"registered","user_id":5569548,"link":"https://stackoverflow.com/users/5569548/ted-yavuzkurt","reputation":517,"display_name":"Ted Yavuzkurt","accept_rate":75},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73298883/scala-function1t-u-becomes-function1object-object-in-java","last_activity_date":1660148049,"creation_date":1660085425,"answer_count":2,"title":"Scala Function1&lt;T,U&gt; becomes Function1&lt;Object,Object&gt; in Java","body":"<p>I am trying to use the Deequ library from Java, and am having issue using the following method:</p>\n<pre><code>  def hasCompleteness(\n      column: String,\n      assertion: Double =&gt; Boolean,\n      hint: Option[String] = None)\n    : CheckWithLastConstraintFilterable = {\n    addFilterableConstraint { filter =&gt; completenessConstraint(column, assertion, filter, hint) }\n  }\n</code></pre>\n<p>In particular, for the assertion, I need to pass in a <code>Function1&lt;Double, Boolean&gt;</code></p>\n<p>So I use the following code to create an assertion function in Java:</p>\n<pre><code>public static Function1&lt;Double, Boolean&gt; atLeast(double thresholdPercentage) {\n  return new scala.compat.java8.functionConverterImpls.FromJavaFunction&lt;&gt;((Double actualPercentage) -&gt; actualPercentage &gt;= thresholdPercentage);\n}\n</code></pre>\n<p>Simple enough, right?</p>\n<p>Only, my Java Class now won't compile because the signature of the <code>hasCompleteness</code> method, when viewed <em>from Java</em> is that the assertion parameter is a <code>Function1&lt;Object, Object&gt;</code>. Thus I see the following error:</p>\n<pre><code>Required type: Function1&lt;Object, Object&gt;\nProvided: Function1&lt;Double, Boolean&gt;\n</code></pre>\n<p>If I change my <code>atLeast</code> method to return an unparametrized <code>Function1</code> the issue goes away, but this feels like an ugly kludge.</p>\n<p>Am I condemned to losing the type params when using this method from Java? Or is there something perhaps wrong with my IntelliJ / Gradle setup causing this weird behavior?</p>\n","question_id":73298883,"tags":["java","scala","generics"],"score":2,"accepted_answer_id":73309330,"is_answered":true,"view_count":122},{"owner":{"profile_image":"https://www.gravatar.com/avatar/377c52029e629fa1880937105adf031b?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":3541643,"user_type":"registered","user_id":2958560,"link":"https://stackoverflow.com/users/2958560/dando18","reputation":47,"display_name":"Dando18","accept_rate":33},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/20819824/java-generic-type-number","last_activity_date":1660117318,"creation_date":1388267980,"answer_count":4,"title":"Java Generic Type Number","body":"<p>I have read several pages on generic methods and have some sort of grasp on them, but I still don't understand them. So say I have a method to multiply two numbers and return the product: </p>\n\n<pre><code>public double multiply(SomeNumberVariableType x, SomeNumberVariableType y){\n    return x * y;\n}\n</code></pre>\n\n<p>How can I use bounded generics to have only a number type permitted as parameters?</p>\n","question_id":20819824,"tags":["java","generics","numbers"],"score":3,"accepted_answer_id":20819856,"is_answered":true,"view_count":10238},{"owner":{"profile_image":"https://www.gravatar.com/avatar/40327553d4769efada9e2918d809f35d?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":17840072,"user_type":"registered","user_id":12958132,"link":"https://stackoverflow.com/users/12958132/woxihuanxiayua","reputation":107,"display_name":"woxihuanxiayua"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/73300740/spring-injects-a-list-with-generics-issue","last_activity_date":1660111090,"creation_date":1660106788,"answer_count":1,"title":"Spring injects a list with generics issue","body":"<p>Interface:</p>\n<pre><code>public interface PoiSearchDataProvider&lt;T extends AbstractPoiSearchData&gt; {\n\n    T fetch(PoiSearchRequest poiSearchRequest) throws Exception;\n\n}\n</code></pre>\n<p>If I use:</p>\n<pre><code>@Resource\nprivate List&lt;PoiSearchDataProvider&lt;AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\n</code></pre>\n<p>Application fails to start: <code>expected at least 1 bean which qualifies as autowire candidate.</code></p>\n<p>And it works:</p>\n<pre><code>@Resource\nprivate List&lt;PoiSearchDataProvider&lt;? extends AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\n</code></pre>\n<p>I want to know the reason behind...</p>\n","question_id":73300740,"tags":["java","spring","spring-boot","generics"],"score":0,"is_answered":false,"view_count":37},{"owner":{"profile_image":"https://www.gravatar.com/avatar/e0971307b6d3fa7d038cc2b998554fea?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":11415665,"user_type":"registered","user_id":8368531,"link":"https://stackoverflow.com/users/8368531/j%c3%b6rg","reputation":214,"display_name":"J&#246;rg"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/70625495/generics-how-to-populate-a-map-from-arrays","last_activity_date":1641583272,"creation_date":1641579260,"answer_count":1,"title":"Generics: How to populate a map from arrays?","body":"<p>I tried to write a utility method which would populate a map from a key and a value array, no matter what the data type of key and value would be.</p>\n<pre><code>  public static &lt;K,V&gt; Map&lt;K,V&gt; fillMap(Map&lt;K,V&gt; map, K[] keys, V[] values) {\n    int l= keys.length;\n    for (int i=0; i&lt;l; i++)\n      map.put(keys[i], values[i]);\n    return map;\n  }\n</code></pre>\n<p>Then I called the method with</p>\n<pre><code>    HashMap&lt;Integer, String&gt; map= new HashMap&lt;&gt;();\n    Integer[] keys= IntStream.range(0, 12).boxed().toArray(Integer[]::new);\n    String[] values= new String[] {&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;Mai&quot;,&quot;Jun&quot;,\n                   &quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Okt&quot;,&quot;Nov&quot;,&quot;Dez&quot;};\n    map= MyUtil.fillMap(map, keys, values);\n</code></pre>\n<p>and received the error:<br>\n<strong>incompatible types: no instance(s) of type variable(s) K,V exist so that Map&lt;K,V&gt; conforms to HashMap&lt;Integer,String&gt;</strong><br>\nAll attempts to replace &lt;K,V&gt; by variations of &lt;? extends Object&gt; and the like failed so far.\nHow can this be fixed?</p>\n","question_id":70625495,"tags":["java","generics","collections"],"score":0,"accepted_answer_id":70625645,"is_answered":true,"view_count":101},{"owner":{"profile_image":"https://www.gravatar.com/avatar/8e42a02576022110de1313c58e111c70?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":7162105,"user_type":"registered","user_id":5472537,"link":"https://stackoverflow.com/users/5472537/michael-andr%c3%a9-slimz","reputation":67,"display_name":"Michael Andr&#233; Slimz"},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/40877146/get-max-element-in-a-queue-java","last_activity_date":1641574705,"creation_date":1480459385,"answer_count":6,"title":"Get max element in a Queue | Java","body":"<p>Is there an alternative way to get the max element in a Queue (Java)? \n(Please provide alternative approaches )    </p>\n\n<pre><code>import java.util.*;\n\npublic class MaxQueueElement&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    public MaxQueueElement(Queue&lt;E&gt; queue){\n        E max= queue.peek();   // initialize max with head of queue\n\n        for(E e : queue){\n            if(e.compareTo(max) &gt; 0){\n                max = e;\n            }\n        }\n\n    System.out.println(max);\n\n }\n}\n</code></pre>\n","question_id":40877146,"tags":["java","generics","queue"],"score":1,"is_answered":true,"view_count":11658,"last_edit_date":1480459463},{"owner":{"profile_image":"https://i.stack.imgur.com/wNNYd.jpg?s=256&g=1","account_id":1262646,"user_type":"registered","user_id":1220560,"link":"https://stackoverflow.com/users/1220560/morgwai","reputation":2597,"display_name":"morgwai"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/70433519/filtering-a-stream-changes-its-wildcard-bounds","last_activity_date":1641560322,"creation_date":1640080550,"answer_count":1,"title":"filtering a stream changes its wildcard bounds?","body":"<p>the below method compiles without problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers(Stream&lt;Number&gt; numbers) {\n    return numbers.map(Optional::of);\n}\n</code></pre>\n<p>yet if I add a simple filtering to it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Optional&lt;? extends Number&gt;&gt; getNumbers2(Stream&lt;Number&gt; numbers) {\n    return numbers.map(Optional::of).filter(number -&gt; true);\n}\n</code></pre>\n<p>it generates the following error:</p>\n<blockquote>\n<p>incompatible types:<br />\njava.util.stream.Stream&lt;java.util.Optional&lt;java.lang.Number&gt;&gt; cannot be converted to<br />\njava.util.stream.Stream&lt;java.util.Optional&lt;? extends java.lang.Number&gt;&gt;</p>\n</blockquote>\n<p>tested on openJdk-11 and openJdk-17.</p>\n<p>I'd expect them both to do the same (either both compile ok or both generate the same compilation error), so I'm really puzzled by this: what is the general rule here that explains why the 1st method compiles ok yet the 2nd does not?\nThanks!</p>\n","question_id":70433519,"tags":["java","generics","java-stream","unbounded-wildcard"],"score":8,"accepted_answer_id":70433906,"is_answered":true,"view_count":356,"last_edit_date":1641560322},{"owner":{"profile_image":"https://www.gravatar.com/avatar/a8ed2d5ba8489bd3d09ffd3fc9d7d646?s=256&d=identicon&r=PG","account_id":878605,"user_type":"registered","user_id":48728,"link":"https://stackoverflow.com/users/48728/foryourowngood","reputation":39192,"display_name":"ForYourOwnGood","accept_rate":36},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/490091/java-generics-list-listobject-list","last_activity_date":1641544923,"creation_date":1233190593,"answer_count":13,"title":"Java Generics: List, List&lt;Object&gt;, List&lt;?&gt;","body":"<p>Can someone explained, as detailed as possible, the differences between the following types?</p>\n\n<pre><code>List\nList&lt;Object&gt;\nList&lt;?&gt;\n</code></pre>\n\n<p>Let me make this more specific. When would I want to use</p>\n\n<pre><code>// 1 \npublic void CanYouGiveMeAnAnswer(List l) { }\n\n// 2\npublic void CanYouGiveMeAnAnswer(List&lt;Object&gt; l) { }\n\n// 3\npublic void CanYouGiveMeAnAnswer(List&lt;?&gt; l) { }\n</code></pre>\n","question_id":490091,"tags":["java","generics"],"score":73,"is_answered":true,"view_count":51070,"last_edit_date":1485369310},{"owner":{"profile_image":"https://www.gravatar.com/avatar/b0615f9d8910677c053724488c8e5240?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":14529138,"user_type":"registered","user_id":14367481,"link":"https://stackoverflow.com/users/14367481/mr-proper","reputation":33,"display_name":"Mr. Proper"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/70607154/why-erasure-of-generic-types-prevents-overriding-in-this-case","last_activity_date":1641543284,"creation_date":1641472411,"answer_count":2,"title":"Why erasure of generic types prevents overriding in this case?","body":"<p>The code below doesn't compile on OpenjDK 11.\nIt seems to me that test1 in B should override test1 in A, because:</p>\n<ol>\n<li>The methods have same name.</li>\n<li>The methods have same parameter list.</li>\n<li>The methods have same visibility.</li>\n<li>The methods actually do not throw potentially incompatible checked exceptions.</li>\n<li>Their return types are covariant.</li>\n</ol>\n<p>I took a decompiler and decompiled each class separately. The compiled code actually worked as I would expect. It replaced U extends Number with Number, T extends Integer with Integer and so on. But when I try to compile the two classes together, I got and error on the second class that says the test in the second class does not override a method in the first one.</p>\n<p>I'm missing something big or small here. And it's probably related to 5. Maybe the types are not covariant. Can you help me?</p>\n<pre><code>class A {\n    &lt;U extends Number, T extends Number&gt; U test(T test) {\n        System.out.println(&quot;In A.test(T test)&quot;);\n        return null;\n    }\n    //Decompiler shows that the above method erases to \n    // Number test(Number test)\n    // Just like the method below.\n        \n    Number test2(Number test) {\n        return null;\n    }\n}\n\nclass B extends A {\n    //Unsuccessful override. Compiler error.\n    @Override  \n    &lt;U extends Integer, T extends Number&gt; U test(T test) {\n        System.out.println(&quot;In B.test(T tesT)&quot;);\n        return null;\n    }\n    //Decompiler shows that the above method erases to \n    //Integer test(Number test)\n    //Just like the method bellow.\n    \n    \n    //Successful override\n    @Override\n    Integer test2(Number test) {\n        return null;\n    }\n}\n</code></pre>\n","question_id":70607154,"tags":["java","generics","inheritance"],"score":3,"accepted_answer_id":70607642,"is_answered":true,"view_count":166},{"owner":{"profile_image":"https://www.gravatar.com/avatar/b41758959ba803e4aa6190487031110c?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":22697623,"user_type":"registered","user_id":16865504,"link":"https://stackoverflow.com/users/16865504/hwanguemyang","reputation":23,"display_name":"hwanguemyang"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/70572512/why-cant-i-create-generic-array-in-java","last_activity_date":1641524179,"creation_date":1641252384,"answer_count":1,"title":"Why can&#39;t I create generic array in Java?","body":"<p>I had a problem creating some arrays.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Integer[]&gt;[] endOfLine = {\n    curPoint -&gt; curPoint[0]==r2,\n    curPoint -&gt; curPoint[0]==c2,\n    curPoint -&gt; curPoint[0]==r1,\n    curPoint -&gt; curPoint[0]==c1\n};\nConsumer&lt;Integer[]&gt;[] move = {\n    curPoint -&gt; { curPoint[0]++; },\n    curPoint -&gt; { curPoint[1]++; },\n    curPoint -&gt; { curPoint[0]--; },\n    curPoint -&gt; { curPoint[1]--; }            \n};\n</code></pre>\n<p>and eclipse (maybe compiler?) said:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Cannot create a generic array of Predicate&lt;Integer[]&gt;\n</code></pre>\n<p>I Googled, and found that generic type parameter array can't be made in Java.</p>\n<p>I read about compile time and runtime, and I thought it may be not my problem.</p>\n<p>I saw some code which compile compiled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt;[] arrayOfLists = new ArrayList[2];\nArrayList&lt;Integer[]&gt; lists =new ArrayList&lt;&gt;();\nArrayList&lt;Consumer []&gt; [] lists = new ArrayList[5];\n        \nPredicate&lt;Integer[]&gt;[] p = new Predicate[5];\np[0] = a -&gt; a[0] == 0;\n\nPredicate&lt;Integer[]&gt;[] pp = { a -&gt; a[0] == 0 }; //cant be compile\n</code></pre>\n<p>and I read oracle doc and found this:</p>\n<blockquote>\n<p>&quot;Cannot Create Arrays of Parameterized Types&quot;</p>\n</blockquote>\n<p>I concluded my shortcut syntax, {} is the problem. Shortcut syntax create code with parameterized type. Is this correct?</p>\n","question_id":70572512,"tags":["java","generics"],"score":2,"accepted_answer_id":70572715,"is_answered":true,"view_count":1526,"last_edit_date":1641268267},{"owner":{"profile_image":"https://lh3.googleusercontent.com/a-/AAuE7mAU1ZznEqxW3O1lOr6NSv5JUPJiOUHcglsLCpYgdw=k-s256","account_id":16634092,"user_type":"registered","user_id":12804925,"link":"https://stackoverflow.com/users/12804925/jakub-znamen%c3%a1%c4%8dek","reputation":798,"display_name":"Jakub Znamen&#225;ček"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/70610873/how-to-correctly-create-method-accepting-list-of-objects","last_activity_date":1641491487,"creation_date":1641488974,"answer_count":2,"title":"How to correctly create method accepting list of objects","body":"<p>Hi I would like to create method which accepts list of Object something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String formatList(List&lt;Object&gt; listToFormat,int indentationSize){\n        String indentation = Stream.generate(()-&gt;&quot;\\t&quot;).limit(indentationSize).collect(Collectors.joining());\n        String newIndentedLine = &quot;\\n&quot;+indentation;\n        return newIndentedLine+listToFormat.stream()\n                .map(Object::toString)\n                .collect(Collectors.joining(newIndentedLine));\n    }\n</code></pre>\n<p>but when I try to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\n...\nFormater.formatList(cars);\n</code></pre>\n<p>it is not allowed.</p>\n","question_id":70610873,"tags":["java","list","generics"],"score":1,"accepted_answer_id":70611427,"is_answered":true,"view_count":61},{"owner":{"profile_image":"https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=256&d=identicon&r=PG","account_id":1295597,"user_type":"registered","user_id":1246746,"link":"https://stackoverflow.com/users/1246746/giozh","reputation":9908,"display_name":"giozh","accept_rate":51},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/21556925/constructor-with-different-arraylist-type-as-parameter","last_activity_date":1641477790,"creation_date":1391528826,"answer_count":3,"title":"Constructor with different ArrayList type as parameter","body":"<p>I't first time i've occourred in this \"strange\" situation. I need to create two different constructor for my class:</p>\n\n<pre><code>public OpponentListAdapter(Context c, ArrayList&lt;MyCustomObject&gt; l){}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public OpponentListAdapter(Context c, ArrayList&lt;String&gt; l){}\n</code></pre>\n\n<p>because depending by type of generics of ArrayList, i need to perform different actions. \nBut i have this error:</p>\n\n<blockquote>\n  <p>Method OpponentListAdapter(Context, ArrayList) has the same erasure >OpponentListAdapter(Context, ArrayList) as another method in type OpponentListAdapter</p>\n</blockquote>\n\n<p>What's wrong?\nMaybe the solution it's simple, but for now, i can't find nothing good!</p>\n","question_id":21556925,"tags":["java","android","generics","arraylist"],"score":1,"accepted_answer_id":21557178,"is_answered":true,"view_count":2427},{"owner":{"profile_image":"https://www.gravatar.com/avatar/f54e86d83eea6143ecc70a485f4e6044?s=256&d=identicon&r=PG","account_id":1853886,"user_type":"registered","user_id":1679863,"link":"https://stackoverflow.com/users/1679863/rohit-jain","reputation":210617,"display_name":"Rohit Jain","accept_rate":77},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/22588518/lambda-expression-and-generic-defined-only-in-method","last_activity_date":1641472510,"creation_date":1395562680,"answer_count":5,"title":"Lambda Expression and generic defined only in method","body":"<p>Suppose I've a generic interface:</p>\n\n<pre><code>interface MyComparable&lt;T extends Comparable&lt;T&gt;&gt;  {\n    public int compare(T obj1, T obj2);\n}\n</code></pre>\n\n<p>And a method <code>sort</code>:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; \n       void sort(List&lt;T&gt; list, MyComparable&lt;T&gt; comp) {\n    // sort the list\n}\n</code></pre>\n\n<p>I can invoke this method and pass a lambda expression as argument:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", \"c\");\nsort(list, (a, b) -&gt; a.compareTo(b));\n</code></pre>\n\n<p>That will work fine. </p>\n\n<p>But now if I make the interface non-generic, and the method generic:</p>\n\n<pre><code>interface MyComparable {\n    public &lt;T extends Comparable&lt;T&gt;&gt; int compare(T obj1, T obj2);\n}\n\npublic static &lt;T extends Comparable&lt;T&gt;&gt; \n       void sort(List&lt;T&gt; list, MyComparable comp) {\n}\n</code></pre>\n\n<p>And then invoke this like:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", \"c\");\nsort(list, (a, b) -&gt; a.compareTo(b));\n</code></pre>\n\n<p>It doesn't compile. It shows error at lambda expression saying: </p>\n\n<blockquote>\n  <p>\"Target method is generic\"</p>\n</blockquote>\n\n<p>OK, when I compiled it using <code>javac</code>, it shows following error:</p>\n\n<pre><code>SO.java:20: error: incompatible types: cannot infer type-variable(s) T#1\n        sort(list, (a, b) -&gt; a.compareTo(b));\n            ^\n    (argument mismatch; invalid functional descriptor for lambda expression\n      method &lt;T#2&gt;(T#2,T#2)int in interface MyComparable is generic)\n  where T#1,T#2 are type-variables:\n    T#1 extends Comparable&lt;T#1&gt; declared in method &lt;T#1&gt;sort(List&lt;T#1&gt;,MyComparable)\n    T#2 extends Comparable&lt;T#2&gt; declared in method &lt;T#2&gt;compare(T#2,T#2)\n1 error\n</code></pre>\n\n<p>From this error message, it seems like compiler is not able to infer the type arguments. Is that the case? If yes, then why is it happening like this?</p>\n\n<p>I tried various ways, searched through the internet. Then I found <a href=\"http://www.javacodegeeks.com/2012/02/whats-cooking-in-java-8-project-lambda.html\">this JavaCodeGeeks article</a>, which shows a way, so I tried:</p>\n\n<pre><code>sort(list, &lt;T extends Comparable&lt;T&gt;&gt;(a, b) -&gt; a.compareTo(b));\n</code></pre>\n\n<p>which again doesn't work, contrary to what that article claims that it works. Might be possible that it used to work in some initial builds.</p>\n\n<p>So my question is: Is there any way to create lambda expression for a generic method? I can do this using a method reference though, by creating a method:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; int compare(T obj1, T obj2) {\n    return obj1.compareTo(obj2);\n}\n</code></pre>\n\n<p>in some class say <code>SO</code>, and pass it as:</p>\n\n<pre><code>sort(list, SO::compare);\n</code></pre>\n","question_id":22588518,"tags":["java","generics","lambda","java-8"],"score":122,"accepted_answer_id":22588738,"is_answered":true,"view_count":92790,"last_edit_date":1637175489},{"owner":{"profile_image":"https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=256&d=identicon&r=PG","account_id":66899,"user_type":"registered","user_id":196032,"link":"https://stackoverflow.com/users/196032/alex-r","reputation":11449,"display_name":"Alex R","accept_rate":49},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67275241/how-to-apply-dynamodb-bean-annotations-to-a-different-projects-pojos-by-using-g","last_activity_date":1641443191,"creation_date":1619481759,"answer_count":1,"title":"How to apply DynamoDB Bean annotations to a different project&#39;s POJOs by using generics?","body":"<p>I'm trying to setup a micro-framework within my application to remove duplication of code (&quot;DRY&quot; principle). Specifically I have a need to use annotations from my project in conjunction with several POJO classes that are in a different project (those are the <code>&lt;T&gt;</code>'s below) and which do not share my dependencies.</p>\n<p>So I started with this:</p>\n<pre><code>public abstract class DynamoRepo&lt;T&gt; {\n\n    @DynamoDbBean\n    public static class Entity&lt;T&gt; {\n        private Number id;\n        private T bean;\n    \n        @DynamoDbPartitionKey\n        @DynamoDbConvertedBy(IdConverter.class)\n        public Number getId() {\n            return id;\n        }\n    \n        public void setId(Number id) {\n            this.id = id;\n        }\n    \n        @DynamoDbFlatten\n        public T getBean() {\n            return bean;\n        }\n    \n        public void setBean(T bean) {\n            this.bean = bean;\n        }\n        \n        ...\n</code></pre>\n<p>... the annotations are required at runtime for the code below</p>\n<pre><code>    private DynamoDbTable&lt;Entity&lt;?&gt;&gt; table;\n</code></pre>\n<p>... with a bit of setup in the constructor ...</p>\n<pre><code>    table = enhancedClient.table(tableName, TableSchema.fromBean(new Entity&lt;? extends T&gt;() {}.getClass()));\n</code></pre>\n<p>... I'd like to be able to accept a <code>&lt;T&gt;</code> which doesn't require the caller to know about <code>Entity</code>:</p>\n<pre><code>public void putItem(T item) {\n    table.putItem(new Entity&lt;T&gt;(item));\n}\n</code></pre>\n<p>Alas, this code doesn't compile. There are several problems here and any small tweaks lead to a different compile error.</p>\n<p>How can I possibly make this work without having to add <code>@DynamoDb</code> annotations to the underlying POJOs (which are not in my project and don't have DynamoDB as a dependency) or have to manually create subclasses that extend each of the POJOs (and throw DRY out the window by creating a whole parallel object hierarchy)?</p>\n<p>This question is about code clarity. Please don't worry about performance overhead.</p>\n","question_id":67275241,"tags":["java","generics","inheritance","java-annotations","amazon-dynamodb"],"score":0,"is_answered":false,"view_count":1985,"last_edit_date":1619482656},{"owner":{"profile_image":"https://lh5.googleusercontent.com/-OEZMwLaE2ME/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnp0532DLDsbaaCx_rmeYViZLflLA/s96-c/photo.jpg?sz=256","account_id":20087876,"user_type":"registered","user_id":14729061,"link":"https://stackoverflow.com/users/14729061/elias-schlicht","reputation":23,"display_name":"Elias Schlicht"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/68038527/reversing-a-stack-without-using-java-api","last_activity_date":1624035689,"creation_date":1624033355,"answer_count":2,"title":"Reversing a Stack without using Java API","body":"<p>i want to implement a reverse method that reverses a Stack. I think the solution is recursion. I tried my best, but it doesn't work. Can somebody tell me where my mistake is?</p>\n<pre><code>public class Stack&lt;E&gt; {\n\n    private final E value;\n    private final Stack&lt;E&gt; next;\n\n    private Stack(E value, Stack&lt;E&gt; next) {\n        this.value = value;\n        this.next = next;\n    }\n\n    public static &lt;E&gt; Stack&lt;E&gt; create() {\n        return null;\n    }\n    public static &lt;E&gt; Stack&lt;E&gt; push(Stack&lt;E&gt; a, E e) {\n        Stack&lt;E&gt; erg = new Stack&lt;E&gt;(e,a);\n        return erg;\n    }\n\n    public static &lt;E&gt; Stack&lt;E&gt; pop(Stack&lt;E&gt; a) { //pop(push(s,e) = s\n        if (a == null) {\n            return Stack.&lt;E&gt;create();\n        }\n        else if (a.value == null){\n            return Stack.&lt;E&gt;create();\n        }\n        else {\n            return a.next;\n        }\n    }\n    public static &lt;E&gt; E top(Stack&lt;E&gt; a) {\n        if (a == null) {\n            return null;\n        }\n        else if (a.value == null){\n            return null;\n        }\n        else {\n            return a.value;\n        }\n    }\n    public static &lt;E&gt; boolean isEmpty(Stack&lt;E&gt; a) {\n        if (a == null) {\n            return true;\n        }\n        else if (a.value == null) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    public static &lt;E&gt; Stack&lt;E&gt; reverse(Stack&lt;E&gt; s) {\n        Stack&lt;E&gt; top = Stack.&lt;E&gt;pop(s);\n        if (Stack.&lt;E&gt;isEmpty(s)) {\n            return top;\n        } else {\n            Stack&lt;E&gt; bottom = reverse(s);\n            Stack.&lt;E&gt;push(top, null);\n            return bottom;\n        }\n    }\n}\n\n</code></pre>\n<p>I'm not allowed to use classes of th Java API; i'm not allowed to add more classes or methods or attributes.</p>\n","question_id":68038527,"tags":["java","generics","recursion","linked-list","stack"],"score":0,"accepted_answer_id":68038541,"is_answered":true,"view_count":304},{"owner":{"profile_image":"https://graph.facebook.com/771397596401520/picture?type=large","account_id":12272391,"user_type":"registered","user_id":8957217,"link":"https://stackoverflow.com/users/8957217/blvck-mvgic-dot-exe","reputation":67,"display_name":"blvck_mvgic_dot_exe"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/68022998/classsomeobject-is-not-a-superclass-of-classsomeobjectspecificobject","last_activity_date":1623949628,"creation_date":1623946398,"answer_count":0,"title":"Class&lt;SomeObject&lt;?&gt;&gt; is NOT a superclass of Class&lt;SomeObject&lt;SpecificObject&gt;&gt;?","body":"<p>EDIT 1: According to <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\" rel=\"nofollow noreferrer\">this</a>, despite <code>SomeObject&lt;?&gt;</code> being indeed a superclass of <code>SomeObject&lt;Foo&gt;</code>, <code>Class&lt;SomeObject&lt;?&gt;&gt;</code> is NOT a superclass of <code>Class&lt;SomeObject&lt;Foo&gt;&gt;</code>. The question on how to tackle this specific problem still persists. (adding a method to the <code>Message&lt;T&gt;</code> class that returns <code>Class&lt;Message&lt;T&gt;&gt;</code>, perhaps?)</p>\n<p>Original question:</p>\n<p>So basically I have a generic <code>Message&lt;T&gt;</code> class that implements a well known design pattern called <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">Command pattern</a> (with a twist: instead of building an object with a reference, the reference is passed as argument of the <code>execute(T objectToCallMethodsOn)</code>) and it looks something like this:</p>\n<pre><code>public abstract class Message&lt;T&gt; {\n    void execute(T obj); //e.g. DoSomethingOnFooMessage implements Message&lt;Foo&gt; to do something on a Foo object\n}\n</code></pre>\n<p>so that I can do something like:</p>\n<pre><code>public DoSomethingOnFooMessage implements Message&lt;Foo&gt; {\n    @Override\n    void execute(Foo obj) {\n        obj.doSomething(); //doSomething is a method of the Foo class\n    }\n}\n</code></pre>\n<p>Now, I also tried to make a MessageProcessor class with an internal map that maps (E is a type parameter) <code>Class&lt;Message&lt;E&gt;&gt;</code> to a object <code>E executableObject</code> (like Foo in the previous example) and with two methods: a handleMessage(Message&lt;?&gt; msg) that should do a dynamic instanceof of the Message (hence the need for the Class&lt;&gt; objects that let you do a dynamic instanceof and then a dynamic cast) and look for the right executableObject in the map to call the message's <code>execute(E obj)</code> on the right object (if it exists, otherwise the message is discarded), and a <code>addProcessor()</code> to add entries of e.g. <code>Class&lt;Message&lt;Foo&gt;&gt;, Foo</code> to the map:</p>\n<pre><code>public class MessageProcessor {\n    private final Map&lt;Class&lt;Message&lt;?&gt;&gt;, Object&gt; map;\n\n    public MessageProcessor() {\n        map = new HashMap&lt;&gt;();\n    }\n\n    public &lt;E&gt; void addProcessor(Class&lt;Message&lt;E&gt;&gt; messageClass, E executable) {\n        map.put(messageClass, executable);\n    }\n    ...\n}\n</code></pre>\n<p>So far that's what I wrote but the IDE complains that <code>Class&lt;Message&lt;E&gt;&gt;</code> was given but <code>Class&lt;Message&lt;?&gt;&gt;</code> was needed in <code>addProcessor()</code> and I don't know why; afaik, <code>SomeClass&lt;?&gt;</code> should be a superclass of any <code>SomeClass&lt;SpecificClass&gt;</code>, why isn't it the same for <code>Class&lt;SomeObject&lt;?&gt;&gt;</code> and <code>Class&lt;SomeObject&lt;SpecificObject&gt;&gt;</code>?</p>\n<p>Sorry for the verbose question, other than asking a thing about superclassing of generics, I am also asking you guys for (perhaps) a different, more elegant way to do what I'm trying to do, which is find the runtime class of the message so that I can call its <code>execute()</code> with the object that I registered with the <code>addProcessor()</code> as its input.</p>\n<p>Also, I reckon this could be easily solvable with raw types (ew)</p>\n","question_id":68022998,"tags":["java","generics"],"score":0,"is_answered":false,"view_count":41,"last_edit_date":1623949628},{"owner":{"profile_image":"https://www.gravatar.com/avatar/7686280776045b6d5250c0762c92ffd5?s=256&d=identicon&r=PG","account_id":135067,"user_type":"registered","user_id":337621,"link":"https://stackoverflow.com/users/337621/g%c3%a1bor-lipt%c3%a1k","reputation":9676,"display_name":"G&#225;bor Lipt&#225;k","accept_rate":70},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/68014704/arraylist-does-not-satisfy-generic-serializable-list-type","last_activity_date":1623918736,"creation_date":1623914643,"answer_count":1,"title":"ArrayList does not satisfy generic serializable list type","body":"<p>Given the following java code:</p>\n<pre><code>public static &lt;I extends Serializable, L extends List&lt;I&gt; &amp; Serializable&gt; L getList() {\n    return new ArrayList&lt;I&gt;(); // &lt;-- Compile error\n}\n</code></pre>\n<p>Given that <code>ArrayList</code> do extend both <code>Serializable</code> and <code>List</code>, why does it produce a compile error?</p>\n<p><code>Incompatible types. Found: 'java.util.ArrayList&lt;I&gt;', required: 'L'</code></p>\n","question_id":68014704,"tags":["java","generics","java-5"],"score":0,"accepted_answer_id":68015730,"is_answered":true,"view_count":222,"last_edit_date":1623918728},{"owner":{"user_type":"does_not_exist","display_name":"user15554594"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/68012208/implement-java-interface-to-arraylist","last_activity_date":1623914879,"creation_date":1623897799,"answer_count":2,"title":"Implement java interface to arraylist","body":"<p>I am writing a code that has an <code>ArrayList</code> of the names of dogs. An interface method allows the animals to make sounds (ex. <code>&quot;woof&quot;</code>). I have a for loop that goes through the entire array and determines if the animal says. What I am having trouble with is that the <code>obj.speak()</code> is not working. Whenever I run it, it would say the symbol is not found but I am confused as I already put it there. I am not sure how to counter this issue as I went on serval websites to find answers but they were no help. I assume that the <code>ArrayList</code> is being looped over as I put a for-loop to go through the entire thing.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ArrayList dogs= new ArrayList();\n        dogs.add(new Dog(&quot;Fred&quot;));\n        dogs.add(new Dog(&quot;Wanda&quot;));\n        for (Object e: dogs) {\n            e.speak();\n        }\n    }\n}\n</code></pre>\n<pre><code>interface Speak{\n    public void speak();\n}\n</code></pre>\n<pre><code>class Dog implements Speak {\n\n    private String name;\n    \n    public Dog(String name) {\n        this.name = name;\n    }\n    \n    public void speak() {\n        System.out.println(&quot;Woof&quot;);\n    }\n}\n</code></pre>\n","question_id":68012208,"tags":["java","for-loop","generics","arraylist","interface"],"score":1,"accepted_answer_id":68012279,"is_answered":true,"view_count":40,"last_edit_date":1623914879},{"owner":{"profile_image":"https://www.gravatar.com/avatar/ee963f3fa8a079129e92872cf0b25651?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":21935034,"user_type":"registered","user_id":16216427,"link":"https://stackoverflow.com/users/16216427/kumar","reputation":13,"display_name":"Kumar"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67961312/need-help-converting-javaobject-to-json-in-generic-pattern","last_activity_date":1623897988,"creation_date":1623607870,"answer_count":1,"title":"Need Help converting JavaObject To Json in Generic Pattern","body":"<p>I wrote a Generic method which works fine converting any Json object to Generic Object.</p>\n<pre><code>public &lt;T&gt; T convertJsontoObject    (String jsonObj, Class&lt;T&gt; any Type)\n             throws JsonMappingException, JsonProcessingException \n             {\n           ObjectMapper objectMap = new ObjectMapper();\n              return objectMap.readValue(jsonObj, any Type);\n\n              }   \n\n      \n</code></pre>\n<p>But has an issue while converting the Generic Object type to JSON format with the below code format. Would someone help me or guide me with related code.. I am not sure how to retain an Object from Generic class type as the method doesn't support for generic and I want to have a Generic method to perform the conversions....</p>\n<pre><code> public &lt;T&gt; String convertObjectToJson(Class&lt;T&gt; anyType) \n               { String jsonStringObj = &quot;&quot;; \n                try { jsonStringObj = new \n               ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(anyType);}\n                }\n\n\n\n\n             \n        \n</code></pre>\n","question_id":67961312,"tags":["java","json","algorithm","spring-boot","generics"],"score":1,"accepted_answer_id":68012167,"is_answered":true,"view_count":862},{"owner":{"profile_image":"https://www.gravatar.com/avatar/fe481db7f47e0d93d9f7ffddb7766921?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":8411714,"user_type":"registered","user_id":6313387,"link":"https://stackoverflow.com/users/6313387/student","reputation":25,"display_name":"student","accept_rate":75},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/38073420/java-instance-for-comparable","last_activity_date":1623840233,"creation_date":1467108983,"answer_count":2,"title":"Java instance for comparable","body":"<p>Why is it legal to create <code>new Box();</code> and  <code>new Box&lt;Integer&gt;();</code>? Is it because <code>Box</code> is comparable?</p>\n\n<pre><code>public class Box&lt;Comparable&gt; {\n  private boolean compareTo(Box b) {\n    return (this.y &gt; b.y);\n  }\n\n  double x=0;\n  double y=0;\n\n  public static void main (String[] args) {\n    Box a = new Box();\n    Box b = new Box&lt;Integer&gt;();\n    System.out.println(a.compareTo(b));\n  }\n}\n</code></pre>\n","question_id":38073420,"tags":["java","generics"],"score":1,"accepted_answer_id":38073499,"is_answered":true,"view_count":637,"last_edit_date":1467110237},{"owner":{"profile_image":"https://www.gravatar.com/avatar/170feed457b9f651106e6de3aed55401?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":4948185,"user_type":"registered","user_id":3983013,"link":"https://stackoverflow.com/users/3983013/piotr-michalczyk","reputation":248,"display_name":"Piotr Michalczyk","accept_rate":75},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67994018/how-parametrized-varags-functions-know-to-create-an-arrays-of-a-specific-type","last_activity_date":1623794630,"creation_date":1623794630,"answer_count":0,"title":"How parametrized varags functions know to create an arrays of a specific type","body":"<p>I am reading through Angelika Langer's JavaGenericsFAQ and I have a problem with understanding type erasure with varags function. In the FAQ the following example:</p>\n<pre><code>public static void main(String[] args) {\n    String[] strings = method_1(&quot;bad&quot;, &quot;karma&quot;); // ClassCastException\n}\n\nstatic &lt;T&gt; T[] method_1(T t1, T t2) {\n    return method_2(t1, t2);\n}\n\nstatic &lt;T&gt; T[] method_2(T... args) {\n    return args;\n}\n</code></pre>\n<p>could be roughly translated to the following after the type erasure:</p>\n<pre><code>public static void main(String[] args) {\n    String[] strings = (String[]) method_1(&quot;bad&quot;, &quot;karma&quot;);// ClassCastException\n}\n\nstatic Object[] method_1(Object t1, Object t2) {\n    return method_2(new Object[]{t1, t2});\n}\n\nstatic Object[] method_2(Object[] args) {\n    return args;\n}\n</code></pre>\n<p>This answers the question from FAQ why calling <em>method_1</em> is a bad idea (method one passes <em>T</em> type parameter which is non-reifiable and due to the type erasure the compiler does not create a <em>T[]</em>, but an <em>Object[]</em>) but that got me thinking: how Java is able to handle the following call:</p>\n<pre><code>String[] strings = method_2(&quot;good&quot;, &quot;karma&quot;);\n</code></pre>\n<p>How does <em>method_2</em> know to actually create a String[] array since type erasure took place?</p>\n","question_id":67994018,"tags":["java","generics"],"score":1,"is_answered":false,"view_count":29},{"owner":{"profile_image":"https://www.gravatar.com/avatar/2c265eecd2f7652374fe29d1d9f06fc2?s=256&d=identicon&r=PG","account_id":1535520,"user_type":"registered","user_id":1431685,"link":"https://stackoverflow.com/users/1431685/tpcordeiro","reputation":443,"display_name":"tpcordeiro","accept_rate":86},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67992546/the-method-valueofclasst-string-in-the-type-enum-is-not-applicable-for-the","last_activity_date":1623786523,"creation_date":1623786222,"answer_count":1,"title":"The method valueOf(Class&lt;T&gt;, String) in the type Enum is not applicable for the arguments (Class&lt;Enum&lt;T&gt;&gt;, String)","body":"<p>I dont know what am I doing wrong... In constructor, I wanna receive a Class of an enum, and I want to return the correct enum, when a value passed as parameter to convert().</p>\n<pre><code>public final class EnumSimplesConverter&lt;T extends Enum&lt;T&gt;&gt; {\n    private final Class&lt;Enum&lt;T&gt;&gt; enumClass;\n\n    public EnumSimplesConverter(Class&lt;Enum&lt;T&gt;&gt; enumClass) {\n        this.enumClass = enumClass;\n    }\n\n    public Enum&lt;T&gt; convert(String value) throws TypeConverterException {\n        return Enum.valueOf(this.enumClass, value);\n    }\n}\n</code></pre>\n<p>But its gives me the error on &quot;valuesOf()&quot;:<br />\n&quot;The method valueOf(Class, String) in the type Enum is not applicable for the arguments (Class&lt;Enum&gt;, String)&quot;</p>\n","question_id":67992546,"tags":["java","class","generics","enums"],"score":1,"accepted_answer_id":67992612,"is_answered":true,"view_count":761},{"owner":{"profile_image":"https://www.gravatar.com/avatar/e68c10dd04b871753f4b58b855c15515?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":21044045,"user_type":"registered","user_id":16234460,"link":"https://stackoverflow.com/users/16234460/iamyourfaja","reputation":39,"display_name":"IamYourFaja"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67988538/java-8-lists-containing-generics-of-mixed-but-inheritance-related-types","last_activity_date":1623785809,"creation_date":1623768416,"answer_count":1,"title":"Java 8 lists containing generics of mixed (but inheritance-related) types","body":"<p>Java 8 here, seeing inexplicable compiler errors regarding generics.</p>\n<p>I have <code>RunnableRule</code>:</p>\n<pre><code>public interface RunnableRule&lt;INPUT,OUTPUT&gt; {\n    OUTPUT execute(INPUT input, OUTPUT previousOutput);\n}\n</code></pre>\n<p>And then <code>AbstractRuleRunner</code>:</p>\n<pre><code>public abstract class AbstractBaseRuleRunner&lt;INPUT,OUTPUT&gt; {\n\n    private List&lt;RunnableRule&lt;INPUT,OUTPUT&gt;&gt; rules;\n\n    public AbstractBaseRuleRunner(List&lt;RunnableRule&lt;INPUT, OUTPUT&gt;&gt; rules) {\n        this.rules = rules;\n    }\n\n    protected abstract OUTPUT initOutput();\n\n    public OUTPUT runRules(INPUT input) {\n\n        OUTPUT output = null;\n        for (RunnableRule&lt;INPUT,OUTPUT&gt; rule : rules) {\n\n            if (output == null) {\n                output = initOutput();\n            }\n\n            output = rule.execute(input, output);\n\n        }\n\n        return output;\n\n    }\n\n\n}\n</code></pre>\n<p>Then some beans:</p>\n<pre><code>public interface HasPlaintextPassword {\n    String getPlaintextPassword();\n}\n\n@Data\npublic class SignUpRequest implements HasPlaintextPassword {\n\n    @NotNull\n    private String email;\n\n    @NotNull\n    private String password;\n\n    @NotNull\n    private String appRefId;\n\n    private boolean ackTerms;\n\n    @Override\n    public String getPlaintextPassword() {\n        return getPassword();\n    }\n\n}\n</code></pre>\n<p>Finally a concrete implementation of my rules runner:</p>\n<pre><code>public class SignUpValidationRulesRunner extends AbstractBaseRuleRunner&lt;HasPlaintextPassword, ValidationReport&gt; {\n\n    public SignUpValidationRulesRunner(List&lt;RunnableRule&lt;HasPlaintextPassword, ValidationReport&gt;&gt; runnableRules) {\n        super(runnableRules);\n    }\n\n    @Override\n    protected ValidationReport initOutput() {\n        return new ValidationReport();\n    }\n\n}\n</code></pre>\n<p>A concrete runnable rule:</p>\n<pre><code>public class AcksTermsSignUpRule implements RunnableRule&lt;SignUpRequest, ValidationReport&gt;, RuleConstants {\n\n    @Override\n    public ValidationReport execute(SignUpRequest signUpRequest, ValidationReport previousOutput) {\n\n        if (!signUpRequest.isAckTerms()) {\n            previousOutput.getErrors().add(MUST_ACK_TERMS_ERROR);\n        }\n\n        return previousOutput;\n\n    }\n\n}\n</code></pre>\n<p>Some rules will accept <code>SignupRequest</code> as input because they need to use certain properties that are on a <code>SignUpRequest</code>, and some rules just need to accept a <code>HasPlaintextPassword</code> as input because they are just inspecting the password property.</p>\n<p>And finally some glue to stick it all together:</p>\n<pre><code>List&lt;RunnableRule&lt;HasPlaintextPassword, ValidationReport&gt;&gt; signUpValidationRules = new ArrayList&lt;&gt;();\nAcksTermsSignUpRule acksTermsSignUpRule = new AcksTermsSignUpRule();\n\nsignUpValidationRules.add(acksTermsSignUpRule);\n</code></pre>\n<p>Here I get a compiler error on <code>signUpValidationRules.add(acksTermsSignUpRule)</code> stating that the required type is <code>RunnableRule</code> but only a <code>AcksTermsSignUpRule</code> is provided.</p>\n<p>What can I do to make it so that my list of rules accepts either <code>HasPlaintextPassword</code> or <code>SignUpRequest</code> as the input generic parameter? Because I need to combine rules of either input type inside the same list.</p>\n","question_id":67988538,"tags":["java","generics","java-8"],"score":2,"accepted_answer_id":67992459,"is_answered":true,"view_count":70,"last_edit_date":1623772725},{"owner":{"profile_image":"https://www.gravatar.com/avatar/f1bd69cebf66ea4f3adda4dc2ad7eaf2?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":21743842,"user_type":"registered","user_id":16050820,"link":"https://stackoverflow.com/users/16050820/eternalapprentice","reputation":1,"display_name":"EternalApprentice"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/67984247/how-to-assign-a-method-as-an-attribute-to-use-it-later-on-any-compatible-object","last_activity_date":1623751908,"creation_date":1623751772,"answer_count":0,"title":"How to assign a method as an attribute to use it later on any compatible object?","body":"<p>I am trying to create a generic menu over an arbitrary type <code>T</code> implementing a <code>Menuable</code> interface:</p>\n<pre><code>public interface Procedure {\n    void invoke();\n}\n\npublic class Menu&lt;T extends Menuable&gt; implements Menuable {\n    List&lt;T&gt; items; //The items of the menu\n    List&lt;String&gt; itemsDisplay; //A list of String specifying how to display each of the above items\n    Procedure procedure; //A method to be performed on the elements of items\n\n    public Menu(List&lt;T&gt; items, List&lt;String&gt; itemsDisplay) {\n        this.items = items;\n        this.itemsDisplay = itemsDisplay;\n    }\n\n    //Returns a String display of the menu\n    //Each item is numbered and displayed as specified by the list itemsDisplay\n    public String menuDisplay() {\n\n        String s = &quot;&quot;;\n        \n        int i;\n        for (i = 1; i &lt;= this.itemsDisplay.size(); i++) {\n            s = s + i + &quot;\\t&quot; + this.itemsDisplay.get(i-1) + &quot;\\n&quot;;\n        }\n  \n    return s;\n    }\n    ...\n}\n</code></pre>\n<p>The menu will be printed on a terminal, and when the user chooses an item, I would like the menu to be able to perform any instance method on this item. Basically, here is what I would like to do:</p>\n<pre><code>public Menu(List&lt;T&gt; items, List&lt;String&gt; itemsDisplay, Procedure procedure) {\n    this.items = items;\n    this.itemsDisplay = itemsDisplay;\n    Here I would like to assign a method to this.procedure for later use,\n    but without specifying on which object to use it yet.\n}\n\npublic void waitForAction() throws IOException {\n        \n    //Display the menu to the user\n    System.out.println(this.menuDisplay());\n    \n    BufferedReader inputs = new BufferedReader(new InputStreamReader(System.in));\n\n    int choice = 0;\n    //Read inputs until the user enters a valid choice\n    while(!(1 &lt;= choice &amp;&amp; choice &lt;= this.items.size())) {\n\n        try {\n            choice = Integer.parseInt(inputs.readLine());\n        } catch(NumberFormatException e) {\n        }\n    }\n\n    //The item selected is at index (choice - 1) in the list this.items\n    Here I would like to use my method on this.items.get(choice - 1).\n}\n</code></pre>\n<p>I am new to the idea of using methods as variables / arguments and I don't know how to do that. I heard about lambda expressions and method references in Java, but from what I understood, when using them you have to specify the method you want to use and its instance / parameters at the same time, which is awkward. Am I missing something ?</p>\n","question_id":67984247,"tags":["java","generics","method-reference"],"score":0,"is_answered":false,"view_count":138,"last_edit_date":1623751908},{"owner":{"profile_image":"https://www.gravatar.com/avatar/ac076b43fde824115ca0651c302440cc?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":20379636,"user_type":"registered","user_id":14950030,"link":"https://stackoverflow.com/users/14950030/nhnkrpzoglu","reputation":13,"display_name":"nhnkrpzoglu"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65592052/sending-a-generic-class-object-to-a-generic-method-java","last_activity_date":1609920890,"creation_date":1609919629,"answer_count":1,"title":"sending a generic class object to a generic method (java)","body":"<p>I have a class named <code>InstanceClass</code> as follows:</p>\n<pre><code>package trials;\n\npublic class InstanceClass&lt;T&gt;  {\n\n    private T num;\n\n    public void calculate() {\n        System.out.printf(&quot;%s&quot;, num);\n    }\n    public T getNum() {\n        return num;\n    }\n\n    public void setNum(T num) {\n        this.num = num;\n    }\n\n    public InstanceClass(T num) {\n        super();\n        this.num = num;\n    }\n}\n</code></pre>\n<p>and <code>Trial</code> class in which the main method located as follows:</p>\n<pre><code>package trials;\n\npublic class TrialClass {\n\n    public static void main(String[] args) {\n\n        InstanceClass&lt;Integer&gt; my=new InstanceClass&lt;&gt;(2);\n        InstanceClass&lt;InstanceClass&lt;Integer&gt;&gt; x=new InstanceClass&lt;&gt;(my);\n        prt(x.getNum());\n    }\n    \n    public static &lt;T extends InstanceClass&lt;Integer&gt;&gt; void prt(T q) {\n        System.out.printf(&quot;%s%n&quot;,q.getNum());\n        q.calculate();\n    }\n}\n</code></pre>\n<p>So, I want to know why can't we simply use &lt;T&gt; instead of &lt;T extends InstanceClass&lt;Integer&gt;&gt; in the method prt's declaration.</p>\n","question_id":65592052,"tags":["java","generics","type-parameter","generic-method"],"score":1,"accepted_answer_id":65592093,"is_answered":true,"view_count":269,"last_edit_date":1609920890},{"owner":{"profile_image":"https://www.gravatar.com/avatar/9cfd9fa0ebca794a68bbba7ee3a794b0?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":3959431,"user_type":"registered","user_id":3266941,"link":"https://stackoverflow.com/users/3266941/milton","reputation":46,"display_name":"Milton"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65589741/is-it-possible-to-obtain-the-generic-type-of-an-interface","last_activity_date":1609904070,"creation_date":1609903135,"answer_count":1,"title":"Is it possible to obtain the generic type of an interface?","body":"<p>Given the interface:</p>\n<pre><code>interface GenericInterface&lt;T&gt; {\n  Class&lt;T&gt; getGenericType();\n}\n</code></pre>\n<p>and the following implementation &quot;skeletons&quot;:</p>\n<pre><code>class GenericInterfaceImpl&lt;T&gt; implements GenericInterface&lt;T&gt; { /* impl */ }\n\nclass TypedInterfaceImpl implements GenericInterface&lt;String&gt; { /* impl */ }\n</code></pre>\n<p>define an implementation for <code>getGenericType</code> in a manner that it would pass the following assertions:</p>\n<pre><code>assertEquals(new GenericInterfaceImpl&lt;String&gt;().getGenericType(), String.class, &quot;Type should resolve to String.class&quot;);\n\nassertEquals(new TypedInterfaceImpl().getGenericType(), String.class, &quot;Type should resolve to String.class&quot;);\n</code></pre>\n<p>I'm perfectly aware of a good implementation that solves this problem on the <code>TypedInterfaceImpl</code> &quot;scenario&quot;. The following code passes the assertion for the second case:</p>\n<pre><code>@Override\n@SuppressWarnings(&quot;unchecked&quot;)\nClass&lt;T&gt; getGenericType() {\n    Type t = this.getClass().getGenericInterfaces()[0];\n    ParameterizedType pt = (ParameterizedType) t;\n\n    return (Class&lt;T&gt;) pt.getActualTypeArguments()[0];\n}\n</code></pre>\n<p>But I can't find a way to get the same result if I'm working with the <code>GenericInterfaceImpl</code> version of this problem. When using the above implementation with <code>GenericInterfaceImpl</code>, the &quot;type argument&quot; resolves to a <code>sun.reflect.generics.reflectiveObjects.TypeVariableImpl</code> instead of <code>java.lang.String</code> like it does when handling <code>TypedInterfaceImpl</code>.</p>\n<p>The Javadocs for <code>getGenericInterfaces</code> explicitly states that it will not resolve type parameters if it's not defined in the source code (for reference: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getGenericInterfaces--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getGenericInterfaces--</a> I'm using Java 11 in my particular case but it's the same nonetheless), so by definition, I understand that this particular method can't solve this problem.</p>\n<p>Is there a way to solve this problem at all or is this a &quot;core limitation&quot; of the Java language?</p>\n","question_id":65589741,"tags":["java","generics","reflection"],"score":2,"is_answered":true,"view_count":108},{"owner":{"profile_image":"https://lh3.googleusercontent.com/-E5SknTsb36Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3red2UnQtyNjNwQo0PJLdB2QG4_zmQ/photo.jpg?sz=256","account_id":17027980,"user_type":"registered","user_id":14735870,"link":"https://stackoverflow.com/users/14735870/manikandan-kk","reputation":1,"display_name":"Manikandan kk"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65583228/return-type-of-get-class-method-is-different-from-actual-returntype","last_activity_date":1609867103,"creation_date":1609865715,"answer_count":2,"title":"Return type of get Class method is different from actual returntype","body":"<p>When I created a instance of a class A and tried to access its getClass() method, its return type is different than what is mentioned in java Object class.</p>\n<pre><code>A a = new A() ;\nClass&lt;? extends A&gt; clazz = a.getClass();\n</code></pre>\n<p>Even when I access the getClass method as mentioned above in Intellij, it says its return type is <code>Class&lt;? extends A&gt; </code>and even the java doc says it returns wildcard extends  upper bound. I can totally accept it. Because I can create instance of B and reference to A and access getClass method.</p>\n<p>But why does the return type of the getClass method is just<code>Class&lt;?&gt;</code> in the Object class</p>\n<p>Edit 1 (After the comment from Andy Turner)</p>\n<pre><code>Class A {\n   List&lt;?&gt; returningNullList() {\n     return null;\n   } \n} \n</code></pre>\n<p>When I create a instance of A , and tried to access returningNullList () method, it didn't give me return type as <code>List&lt;? extends A&gt;</code>. But when I tried to access getClass method it says return type is <code>Class&lt;? extends A&gt;</code> although the actual hard-coded return type is <code>Class&lt;? &gt;</code> in Object.java file</p>\n<p>Is the getClass method is treated specially by compiler?</p>\n","question_id":65583228,"tags":["java","object","generics","wildcard","return-type"],"score":-2,"accepted_answer_id":65583567,"is_answered":true,"view_count":105,"last_edit_date":1609866266},{"owner":{"profile_image":"https://www.gravatar.com/avatar/7bcc5c9f9afbddfb706ddffde17145f0?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":5851066,"user_type":"registered","user_id":4609725,"link":"https://stackoverflow.com/users/4609725/robyp7","reputation":479,"display_name":"robyp7","accept_rate":43},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65505831/quarkus-illegalstateexception-unable-to-construct-the-type-handle-for-class-be","last_activity_date":1609864514,"creation_date":1609325758,"answer_count":1,"title":"Quarkus: IllegalStateException: Unable to construct the type handle for CLASS bean","body":"<p>I am running the quarkus application using <code>mvn compile quarkus:dev</code> and getting below error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Unable to construct the type handle for CLASS bean [types=[org.acme.dao.DaoManager&lt;T extends org.acme.entities.IEntity, I extends java.io.Serializable&gt;, java.lang.Object, org.acme.dao.IDao&lt;T extends org.acme.entities.IEntity, I extends java.io.Serializable&gt;], qualifiers=[@Default, @Any], target=org.acme.dao.DaoManager]: Unsupported bean type: UNRESOLVED_TYPE_VARIABLE, I\n</code></pre>\n<p>I have made a generic DAO class that implements a generic Interface IDAO, IDAO accepts only JPA entity marked with T extends IEntity\n(note: I extends Serializable!)\nBean is marked with ApplicationScoped because include @Inject EntityManager\n:</p>\n<pre><code>import org.acme.entities.IEntity;\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport java.io.Serializable;\n\n@ApplicationScoped\npublic class DaoManager&lt;T extends IEntity&lt;I&gt;, I extends Serializable&gt; implements IDao&lt;T,I&gt; {\n\n    @Inject\n    private EntityManager entityManager;\n\n\n    public &lt;T&gt; void save(T entity){\n        entityManager.persist(entity);\n    }\n}\n\npublic interface IEntity&lt;I extends Serializable&gt; extends Serializable {\n}\n\npublic interface IDao&lt;T extends IEntity&lt;I&gt;, I extends Serializable&gt; {\n\n    &lt;T&gt; void save(T entity);\n\n}\n</code></pre>\n<p>Please suggest.</p>\n","question_id":65505831,"tags":["java","jpa","generics","quarkus"],"score":0,"is_answered":false,"view_count":372,"last_edit_date":1609340893},{"owner":{"profile_image":"https://i.stack.imgur.com/eR09c.jpg?s=256&g=1","account_id":13177411,"user_type":"registered","user_id":9517937,"link":"https://stackoverflow.com/users/9517937/sdindiver","reputation":501,"display_name":"sdindiver"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65414023/why-is-there-generic-mismatch-for-input-arguments-of-two-api-of-collections","last_activity_date":1609843174,"creation_date":1608661967,"answer_count":3,"title":"Why is there Generic mismatch for input arguments of two API of collections","body":"<p>I was looking at generic methods of Collections class</p>\n<pre><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) {\n        list.sort(c);\n}\n</code></pre>\n<p>and other method is</p>\n<pre><code> public static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) {\n        if (c==null)\n            return binarySearch((List&lt;? extends Comparable&lt;? super T&gt;&gt;) list, key);\n\n        if (list instanceof RandomAccess || list.size()&lt;BINARYSEARCH_THRESHOLD)\n            return Collections.indexedBinarySearch(list, key, c);\n        else\n            return Collections.iteratorBinarySearch(list, key, c);\n    }\n</code></pre>\n<p>My question is why sort method is design only for <code>List&lt;T&gt;</code> not for <code>List&lt;? extends T&gt;</code> as binary search is designed for  <code>List&lt;? extends T&gt;</code>?</p>\n","question_id":65414023,"tags":["java","generics"],"score":0,"is_answered":true,"view_count":79,"last_edit_date":1609843161},{"owner":{"profile_image":"https://www.gravatar.com/avatar/8bcbc65f858cabe730be56b548264741?s=256&d=identicon&r=PG","account_id":1648985,"user_type":"registered","user_id":1519924,"link":"https://stackoverflow.com/users/1519924/beau-johnny-bekkestad","reputation":381,"display_name":"Beau Johnny Bekkestad","accept_rate":64},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/18267714/variable-length-generic-types","last_activity_date":1609779027,"creation_date":1376636916,"answer_count":3,"title":"variable length generic types","body":"<p>i want to do something like this, anyone done something similar?\nI have one solution map that has two keys, i am using it for geolocation, but i would like to make it with n number of keys instead.</p>\n\n<pre><code>import java.util.Collection;\nimport java.util.Set;\n\npublic interface NKeyMap&lt;K..., V&gt; {\n    public void clear();\n    public boolean containsKey(K...);\n    public boolean containsValue(V value);\n    public V get(K...);\n    public boolean isEmpty();\n    public V put(K..., V value);\n    public V removeK..., V value);\n    public int size();\n    public Collection&lt;V&gt; values();\n    public Set&lt;K...&gt; keys();\n}\n</code></pre>\n","question_id":18267714,"tags":["java","generics"],"score":3,"accepted_answer_id":18267879,"is_answered":true,"view_count":2646},{"owner":{"profile_image":"https://i.stack.imgur.com/GWEWt.gif?s=256&g=1","account_id":173557,"user_type":"registered","user_id":402322,"link":"https://stackoverflow.com/users/402322/ceving","reputation":22258,"display_name":"ceving","accept_rate":67},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/19051021/how-to-test-for-equivalence-in-a-generic-class","last_activity_date":1609743949,"creation_date":1380285624,"answer_count":1,"title":"How to test for equivalence in a generic class?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Scheme_%28programming_language%29\" rel=\"nofollow noreferrer\">Scheme</a> knows three different equivalence operators: <code>eq?</code>, <code>eqv?</code>, <code>equal?</code>. Sere <a href=\"https://stackoverflow.com/q/16299246/402322\">here</a> for details. In short: <code>eq?</code> tests references, <code>eqv?</code> tests values and <code>equal?</code> recursively tests the values of lists. I would like to write a Java generic which needs the functionality of Scheme´s <code>equal?</code>.</p>\n\n<p>I tried to use Java´s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">equals()</a> method, because I thought it does a value comparison, because for a reference comparison the <code>==</code> operator exists and there is no need for <code>equals</code> to do the same. But this assumption is completely wrong, because <code>equals</code> in Java is completely unreliable. Sometimes it does a value comparison and sometimes it does a reference comparison. And one can not be sure which class does a reference comparison and which class does a value comparison.</p>\n\n<p>This means that <code>equals</code> can not be used in a generic, because the generic would not do the same for all types. And it is also not possible to restrict the generic type in a way that only types are acceptable which implement the correct value comparison.</p>\n\n<p>So the question is: how to do a reliable value comparison in a generic? Do I have to write it on my own from scratch?</p>\n\n<p>By the way: I think Java´s equal failure does not start with <a href=\"https://stackoverflow.com/a/8777266/402322\">Array</a>. It starts already with Object. I think it is wrong that <code>equals</code> for two objects returns <code>false</code>. It must return <code>true</code>, because if you do a value comparison of something which does not have a value the values can not differ and therefor they must be the same. Scheme does it in that way and it is perfectly reasonable: <code>(equal? (vector) (vector)) -&gt; #t</code>.</p>\n","question_id":19051021,"tags":["java","generics","scheme","equality"],"score":0,"is_answered":false,"view_count":467,"last_edit_date":1495535137},{"owner":{"profile_image":"https://graph.facebook.com/2006365462920236/picture?type=large","account_id":13055145,"user_type":"registered","user_id":9434244,"link":"https://stackoverflow.com/users/9434244/martin-clever","reputation":147,"display_name":"Martin Clever"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65548166/static-variables-within-abstract-generic-class","last_activity_date":1609686639,"creation_date":1609664811,"answer_count":0,"title":"Static variables within abstract generic class","body":"<p>I want to implement a variable which is static for each implementation of an abstract, generic class.\nFor example, I have the class...</p>\n<pre><code>public abstract class A&lt;T&gt;{\n   ...\n}\n</code></pre>\n<p>...and some implementations of A...</p>\n<pre><code>public class Imp1 extends A&lt;Imp1&gt;{\n   static Imp1 myVar;\n   ...\n}\npublic class Imp2 extends A&lt;Imp2&gt;{\n   static Imp2 myVar;\n   ...\n}\n...\n</code></pre>\n<p>Is there any Keyword to implement myVar of Typ T in the abstract Class A? If I implement it as a static variable, it would give a TypeError since statics can't have the type T in abstract classes. If I implement it as an abstract, I can't call it from a static context like Imp1.myVar ... I don't think this is a duplicate of <a href=\"https://stackoverflow.com/questions/8198443/static-variable-in-an-abstract-generic-class\">this Question</a>, though I have to admit I did not quite understand it.</p>\n<p>--EDIT--<br />\nSince it has been pointed out that this might be an XY-Problem and the answer seems to be that my approach can not be implemented, I'll try to describe the problem as a whole and try to work out how it should have been solved. Maybe this will help people restructure their code if they run into the same problem.<br />\nI wrote a class for my own datatype &quot;Polynom&quot; (mostly for practice and fun) with a couple of methods (add, multiply, divide, etc.). It is mainly based on a coefficient-list of doubles. Now, I wanted to change it, so a generic datatype could be used. I implemented an abstract class with all the required methods (adding, comparing, multiplying, calculating inverse, etc.). One of these is, that the datatype has a &quot;neutral element&quot;, an element which has no effect on addition/multiplication. For example, if you implement real numbers, the neutral element should be 1 and 0. And this was the point I struggled with. At the moment I implemented the neural Element as a parameter for the polynomial-class, but I want to write other datatypes which also use generics and don't want to add them every time as parameter since they don't really belong there. I hope this was somewhat understandable, I'm happy to update the question further if it isn't.</p>\n","question_id":65548166,"tags":["java","generics","abstract-class"],"score":0,"is_answered":false,"view_count":308,"last_edit_date":1609686639},{"owner":{"profile_image":"https://graph.facebook.com/2006365462920236/picture?type=large","account_id":13055145,"user_type":"registered","user_id":9434244,"link":"https://stackoverflow.com/users/9434244/martin-clever","reputation":147,"display_name":"Martin Clever"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/65541924/how-can-a-generic-type-within-a-generic-type-be-accessed","last_activity_date":1609665056,"creation_date":1609607969,"answer_count":1,"title":"How can a generic type within a generic type be accessed?","body":"<p>Say I have an abstract class A</p>\n<pre><code>public abstract class A&lt;T extends SomeClass, R extends SomeClass&gt; {\n...\n}\n</code></pre>\n<p>And I have another class B</p>\n<pre><code>public class B&lt;S extends A&gt; {\n...\n}\n</code></pre>\n<p>How can I access T and R within B?\nWhen I try</p>\n<pre><code>public class B&lt;F,G,S extends A&lt;F,G&gt;&gt; {\n</code></pre>\n<p>It gives the Error</p>\n<pre><code>error: type argument K#1 is not within bounds of type-variable K#2\npublic class B&lt;F,G,S extends A&lt;F,G&gt;&gt; {\n                                    ^\nwhere K#1,K#2 are type-variables:\nK#1 extends Object declared in class B\nK#2 extends SomeClass declared in class A\n</code></pre>\n","question_id":65541924,"tags":["java","generics","extends"],"score":0,"accepted_answer_id":65548194,"is_answered":true,"view_count":66,"last_edit_date":1609608738},{"owner":{"profile_image":"https://www.gravatar.com/avatar/8f8f46ffe77e26a50b157c6aad9201f9?s=256&d=identicon&r=PG","account_id":1684128,"user_type":"registered","user_id":2103678,"link":"https://stackoverflow.com/users/2103678/skiaddict1","reputation":525,"display_name":"skiaddict1","accept_rate":83},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64888934/java-generics-how-to-solve-warning-on-call-to-jcombobox-setrenderer","last_activity_date":1609634511,"creation_date":1605685409,"answer_count":1,"title":"Java Generics: how to solve warning on call to JComboBox.setRenderer","body":"<p>Coming back to Java after a multi-year hiatus, and partway through adding some code to an inhouse library.  The class in question is an extension of JComboBox, which ensures that disabled items are greyed out and unselectable.  Some of the code is based on that found at <a href=\"https://www.algosome.com/articles/enable-disable-jcombobox.html\" rel=\"nofollow noreferrer\">https://www.algosome.com/articles/enable-disable-jcombobox.html</a>.  The idea is that we have (1) a data model which ensures that only enabled items may be selected, and (2) a custom renderer which shows disabled items greyed out:</p>\n<p><a href=\"https://i.stack.imgur.com/IlCT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IlCT0.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/J0ZmN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0ZmN.png\" alt=\"enter image description here\" /></a></p>\n<p>The code is working, but the compiler isn't completely happy with my generics.  I'd really rather have a happy compiler, but I'm out of ideas as to how to achieve that in this case.  Below is an SSCCE, which produces the above combo box.  My apologies for the length; this really is the shortest I could get it.  The outer class contains several inner classes; all the classes that will live in the library have <code>Lib</code> prepended to their names; <code>MyComboBox</code> is simply there to demonstrate the code.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.basic.BasicComboBoxRenderer;\n\npublic class SSCCE extends JPanel\n{\n    //--------------------LIB CB ITEM--------------------------------------------------\n    private class LibCBItem extends JMenuItem\n    {\n        private LibCB myComboBox;\n\n        LibCBItem(String title, LibCB parent)\n        {\n            super(title);\n            myComboBox = parent;\n        }\n\n        public void setEnabled(boolean b)\n        {\n            boolean changeSelection = false;\n\n            if (!b &amp;&amp; isEnabled() &amp;&amp; this.equals(myComboBox.getSelectedItem())) {\n                int enabledCount = myComboBox.getEnabledItemCount();\n                if (enabledCount == 2)\n                    changeSelection = true;\n                else if (enabledCount == 1)\n                    System.out.println(&quot;setEnabled(FALSE) on final remaining enabled item&quot;);\n                else\n                    System.out.println(&quot;setEnabled(FALSE) of selected item with &quot; + enabledCount + &quot; enabled items: must change selection before disabling&quot;);\n            }\n\n            super.setEnabled(b);\n\n            if (changeSelection)\n                myComboBox.selectEnabledItem();\n        }\n\n        public String toString()\n        {\n            return getText();\n        }\n    }\n\n    //--------------------LIB CB DATA MODEL--------------------------------------------------\n    private class LibCBDataModel&lt;T extends LibCBItem&gt; extends DefaultComboBoxModel&lt;T&gt;\n    {\n        public void setSelectedItem(Object o)\n        {\n            LibCBItem item = (LibCBItem) o;\n            if (item != null) {\n                if (item.isEnabled())\n                    super.setSelectedItem(item);\n            }\n            else {\n                super.setSelectedItem(null);\n            }\n        }\n    }\n\n    //--------------------LIB CB RENDERER--------------------------------------------------\n    private class LibCBRenderer extends BasicComboBoxRenderer\n    {\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\n        {\n            JLabel c = (JLabel) super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n            LibCBItem item = (LibCBItem) value;\n            if (item.isEnabled()) {\n                c.setBackground(super.getBackground());\n                c.setForeground(super.getForeground());\n                if (isSelected) // is the mouse over it?\n                    c.setText(&quot;√ &quot; + c.getText());\n                else\n                    c.setText(&quot;    &quot; + c.getText());\n            }\n            else {\n                if (isSelected) // is the mouse over it?\n                    c.setBackground(UIManager.getColor(&quot;ComboBox.background&quot;));\n                else\n                    c.setBackground(super.getBackground());\n\n                c.setForeground(Color.lightGray);\n\n                c.setText(&quot;    &quot; + c.getText());\n            }\n            return c;\n        }\n    }\n\n    //--------------------LIB CB--------------------------------------------------\n    private class LibCB&lt;T extends LibCBItem&gt; extends JComboBox&lt;T&gt;\n    {\n        LibCB()\n        {\n            super();\n            setModel(new LibCBDataModel&lt;&gt;());\n            setRenderer(new LibCBRenderer());\n            //Warning:(127, 36) java: unchecked method invocation: method setRenderer in class javax.swing.JComboBox is applied to given types\n            //  required:\n            //    javax.swing.ListCellRenderer&lt;? super E&gt;\n            //  found:\n            //    SSCCE.LibCBRenderer\n            //Warning:(127, 37) java: unchecked conversion\n            //  required:\n            //    javax.swing.ListCellRenderer&lt;? super E&gt;\n            //  found:\n            //    SSCCE.LibCBRenderer\n        }\n\n        int getEnabledItemCount()\n        {\n            int returnVal = 0;\n            for (int i = 0; i &lt; getItemCount(); i++) {\n                if (getItemAt(i).isEnabled())\n                    returnVal++;\n            }\n            return returnVal;\n        }\n\n        void selectEnabledItem()\n        {\n            boolean selectedOne = false;\n            for (int i = 0; i &lt; getItemCount(); i++) {\n                if (getItemAt(i).isEnabled()) {\n                    setSelectedIndex(i);\n                    selectedOne = true;\n                    break;\n                }\n            }\n            if (!selectedOne)\n                System.out.println(&quot;selectEnabledItem() with 0 enabled items in combo box&quot;);\n        }\n    }\n\n    //--------------------MY COMBO BOX--------------------------------------------------\n    private class MyComboBox extends LibCB&lt;LibCBItem&gt;\n    {\n        MyComboBox()\n        {\n            LibCBItem item1 = new LibCBItem(&quot;1st&quot;, this);\n            addItem(item1);\n            LibCBItem item2 = new LibCBItem(&quot;2nd&quot;, this);\n            addItem(item2);\n            LibCBItem item3 = new LibCBItem(&quot;3rd&quot;, this);\n            addItem(item3);\n\n            item2.setEnabled(false);\n        }\n    }\n\n    //--------------------SSCCE--------------------------------------------------\n    SSCCE()\n    {\n        JFrame frame = new JFrame(&quot;SSCCE&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setOpaque(true);\n        frame.setContentPane(this);\n        frame.add(new MyComboBox());\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args)\n    {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; new SSCCE());\n    }\n}\n</code></pre>\n<p>The compiler is giving me two warnings on the same line, in <code>LibCB()</code> where it calls <code>JComboBox.setRenderer()</code>.  I've pasted the text of the warnings inline.  Here it is for ease of reference:</p>\n<pre><code>Warning:(127, 36) java: unchecked method invocation: method setRenderer in class javax.swing.JComboBox is applied to given types\n  required:\n    javax.swing.ListCellRenderer&lt;? super E&gt;\n  found:\n    SSCCE.LibCBRenderer\nWarning:(127, 37) java: unchecked conversion\n  required:\n    javax.swing.ListCellRenderer&lt;? super E&gt;\n  found:\n    SSCCE.LibCBRenderer\n</code></pre>\n<p>Is someone able to point me in the direction of resolving these and getting the compiler happy?  Java 8, in case it makes a difference.  Many thanks!</p>\n","question_id":64888934,"tags":["java","generics","compiler-warnings"],"score":0,"is_answered":false,"view_count":216},{"owner":{"profile_image":"https://i.stack.imgur.com/QYKmT.png?s=256&g=1","account_id":16084612,"user_type":"registered","user_id":11834812,"link":"https://stackoverflow.com/users/11834812/ombrelin","reputation":567,"display_name":"Ombrelin"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/59335819/in-java-how-to-let-child-class-decide-of-which-type-parameter-class-use-as-over","last_activity_date":1597626703,"creation_date":1576332089,"answer_count":1,"title":"In Java, how to let child class decide of which type parameter class use as overridden method argument?","body":"<p>I have an abstract class in which I want to have an abstract method taking in argument a Consumer functional interface and let the child class decide which type should parameterize the consumer.</p>\n<p>I tried it that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void show(Consumer&lt;?&gt; validationHandler) {\n    this.validationHandler = validationHandler;\n    stage.show();\n}\n</code></pre>\n<p>But in the child class, it says that it isn't a correct override:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void show(Consumer&lt;Protection&gt; validationHandler) {\n    super.show(validationHandler);\n}\n</code></pre>\n<p>My goal is to be able to call this method on a child instance and having the correct type provided in my consumer lambda that I will pass.</p>\n<p>Do you have any idea how to proceed?</p>\n","question_id":59335819,"tags":["java","generics","inheritance","overriding","functional-interface"],"score":0,"accepted_answer_id":59335900,"is_answered":true,"view_count":666,"last_edit_date":1597626703},{"owner":{"profile_image":"https://www.gravatar.com/avatar/546961777c8d655b9c8b30c81d51249b?s=256&d=identicon&r=PG","account_id":668913,"user_type":"unregistered","user_id":520685,"link":"https://stackoverflow.com/users/520685/alexs","reputation":635,"display_name":"Alexs"},"content_license":"CC BY-SA 2.5","link":"https://stackoverflow.com/questions/4288084/how-to-convert-liststring-to-listobject","last_activity_date":1597606010,"creation_date":1290799963,"answer_count":7,"title":"How to Convert List&lt;String&gt; to List&lt;Object&gt;","body":"<p>I want to convert <code>List&lt;String&gt;</code> to <code>List&lt;Object&gt;</code>.</p>\n\n<p>One of the existing methods is returning <code>List&lt;String&gt;</code> and I want to convert it to <code>List&lt;Object&gt;</code>.\nIs there a direct way in Java other then iterating over and converting element by element?</p>\n","question_id":4288084,"tags":["java","generics"],"score":57,"accepted_answer_id":4288124,"is_answered":true,"view_count":141992,"last_edit_date":1290800481},{"owner":{"profile_image":"https://www.gravatar.com/avatar/76116ff479b812a6532252da086f2ebe?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":2360496,"user_type":"registered","user_id":2067264,"link":"https://stackoverflow.com/users/2067264/drunken-daddy","reputation":7506,"display_name":"Drunken Daddy","accept_rate":67},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/63437899/how-to-get-type-and-generic-type-from-javax-lang-model-variableelement","last_activity_date":1597600350,"creation_date":1597587074,"answer_count":1,"title":"How to get type and generic type from javax.lang.model.VariableElement?","body":"<p>I'm using annotation processing and javapoet library to generate some source code.</p>\n<p>Say, I've a</p>\n<pre><code>VariableElement fieldElement\n</code></pre>\n<p>and if</p>\n<pre><code>System.out.println(&quot;type:- &quot; + fieldElement.asType().toString());\n</code></pre>\n<p>prints</p>\n<blockquote>\n<p>type:- java.util.Set&lt;com.example.demo.test.model.User&gt;</p>\n</blockquote>\n<p>How do I get the Set class and User class so I can do something like this with javapoet?</p>\n<pre><code>ClassName user = ClassName.get(&quot;com.example.demo.test.model&quot;, &quot;User&quot;);\nClassName set = ClassName.get(&quot;java.util&quot;, &quot;Set&quot;);\nTypeName setOfUsers = ParameterizedTypeName.get(set, user);\n</code></pre>\n<p>Some string comparison would get the job done, but doesn't seem like the ideal approach.</p>\n","question_id":63437899,"tags":["java","generics","annotation-processing","javapoet"],"score":3,"accepted_answer_id":63439432,"is_answered":true,"view_count":577,"last_edit_date":1597596976},{"owner":{"profile_image":"https://www.gravatar.com/avatar/8721cceea739c81708ef4dc74f74d1b8?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":19301788,"user_type":"registered","user_id":14109501,"link":"https://stackoverflow.com/users/14109501/questw","reputation":43,"display_name":"Questw"},"closed_date":1597486419,"link":"https://stackoverflow.com/questions/63424789/how-java-allows-to-set-string-where-is-expected-integer-in-generic-class","last_activity_date":1597485755,"creation_date":1597485755,"answer_count":0,"title":"How java allows to set String where is expected Integer, in generic class","body":"<pre><code>public class GenericHolder&lt;T&gt; {\n    private T object;\n    \n    public T get(){\n        return object;\n    }\n   \n    public void set(T obj){\n        this.object = obj;\n    }\n\n\n    public static void main(String args[]){\n         GenericHolder holder = new GenericHolder&lt;Integer&gt;();\n         holder.set(&quot;10&quot;); \n        \n    }\n\n\n}\n</code></pre>\n<p>I understand that holder (non parameterized) can reference parameterized type (with Integer)... But why Java allows to set String, when it is expected Integer...</p>\n","question_id":63424789,"tags":["java","generic-programming"],"score":0,"closed_reason":"Duplicate","is_answered":false,"view_count":24},{"owner":{"profile_image":"https://www.gravatar.com/avatar/a87fc3c228284ce1fc334430746922ba?s=256&d=identicon&r=PG&f=y&so-version=2","account_id":6249392,"user_type":"registered","user_id":4860035,"link":"https://stackoverflow.com/users/4860035/podo","reputation":709,"display_name":"Podo","accept_rate":70},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/63419194/use-generic-interface-as-method-argument-in-java","last_activity_date":1597435712,"creation_date":1597434413,"answer_count":2,"title":"Use generic interface as method argument in Java","body":"<p>Lets say I have the following interface <code>Foo</code></p>\n<pre><code>abstract public interface Foo {\n\n    abstract String getFoo();\n}\n</code></pre>\n<p>and two classes that extend <code>Foo</code>, <code>Bar1</code> and <code>Bar2</code></p>\n<pre><code>public class Bar1 extends Foo{\n\n    String foo = &quot;foobar&quot;;\n    public String getFoo(){\n        return foo;\n    }\n}\n//repeat for class Bar2 \n</code></pre>\n<p>I want to create a translator class that had a method that a client can call, which takes any object thats extending Foo as an argument (like <code>Bar1</code> or <code>Bar2</code> and translate the string to some other string. I did some digging and feel like generics are going to be the best way to do so, however I'm unable to properly modify either the method signature or the class signatures (not sure which, perhaps both?) to allow for this behavior.</p>\n<pre><code>public class TranslateBar{\n    \n//I have tried the following signatures, but clearly I'm missing something    \n\n    public String translateBar(Foo&lt;? extends Foo&gt; pojo&gt;{\n        //return translated string\n    }\n    \n    /*\n    I read that Object is the supertype for all Java classes, so I thought maybe having it \n    take an Object in the parameters and then doing the wildcard would work, but no luck\n    */\n\n    public String translateBar(Object&lt;? extends Foo&gt; pojo&gt;{\n        //return translated string\n    }\n</code></pre>\n<p>In all cases, it gives me an error in the generic saying <code>Type 'java.lang.Object'(or Foo) does not have type parameters</code>. The two options it gives me to fix are <code>create a field for pojo</code> which still doesn't solve the <code>&lt;? extends Points2&gt;</code> error.</p>\n<p>How can I get my <code>translateBar</code> method to allow the client to pass any subclass of <code>Foo</code>?</p>\n","question_id":63419194,"tags":["java","generics","interface"],"score":-1,"accepted_answer_id":63419297,"is_answered":true,"view_count":400},{"owner":{"profile_image":"https://i.stack.imgur.com/fYFFP.jpg?s=256&g=1","account_id":3306670,"user_type":"registered","user_id":2781271,"link":"https://stackoverflow.com/users/2781271/crosp","reputation":4539,"display_name":"CROSP","accept_rate":58},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/33754844/how-generify-class-with-t-and-listt","last_activity_date":1597434093,"creation_date":1447756828,"answer_count":1,"title":"How generify class with T and List&lt;T&gt;","body":"<p>I am trying to generify my class structure.<br>\nI will show my real structure to be more specific. </p>\n\n<p>I am writing application with offline mode support, so I decided to implement my ETag cache mechanism in using <strong>Robospice</strong> and  <strong>GreenDao ORM</strong>.    </p>\n\n<p>I need to cache only <strong>GET</strong> requests. </p>\n\n<p>Firstly my requests should extend base request(not mine), in my case <code>RetrofitSpiceRequest&lt;T, V&gt;</code> </p>\n\n<pre><code>T is type of return data   \nV is service type, in my case I am  using Retrofit.\n</code></pre>\n\n<p>The problem is that return type is not <code>List of T</code> types by default and I need to create subclass that extends array of T objects and that use it as return type.   </p>\n\n<p>Something like this    </p>\n\n<pre><code>public class City {\n....\n....\n....\n    public static class List extends ArrayList&lt;City&gt; {\n    .....\n    .....\n    }\n\n}\n</code></pre>\n\n<p>And use City.List as return type.         </p>\n\n<p>But I have my DAO declared as following </p>\n\n<pre><code>public class CityDao extends AbstractDao&lt;City, Long&gt; {\n\n}\n</code></pre>\n\n<p>In each request (GET) I need to have specific DAO as a member in order to cache data if it differs from the server data. Or load data from the local database if there is no connection.    </p>\n\n<p>The problem here is that request generified by T type which is mostly list, City.List in my case, of some objects, but my dao is generified by, for example E type which is City in my case.     </p>\n\n<p>I want to create method like this    </p>\n\n<pre><code>public AbastractDao&lt;T,Long&gt; getRequestDao() {\n\n}\n</code></pre>\n\n<p>But as far as my Request returns City.List, I have no idea how to generify this class, I feel that it is possible, but now no ideas.<br>\nIn case of non generic dao method, I have to duplicate code like this</p>\n\n<pre><code> @Override\n    public void insertReceivedData(City.List received) {\n        mCityDao.insertOrReplaceInTx(received);\n    }\n\n @Override\n    public City.List getCachedData() {\n        if (mFilterMap != null &amp;&amp; mFilterMap.size() &gt; 0) {\n            return (City.List) mCityDao.loadAll();\n        } else {\n            WhereCondition[] whereConditions = QueryUtils.convertPropertyMapToConditionalArray(mFilterMap);\n            return (City.List) mCityDao.queryBuilder().where(whereConditions[0], Arrays.copyOfRange(whereConditions, 1, whereConditions.length)).list();\n        }\n    }\n</code></pre>\n\n<p>In each request</p>\n\n<p>Please share your ideas.</p>\n\n<p>Thanks.</p>\n","question_id":33754844,"tags":["java","android","generics","caching","robospice"],"score":5,"accepted_answer_id":34090759,"is_answered":true,"view_count":8965},{"owner":{"profile_image":"https://www.gravatar.com/avatar/bc96638735979fc803ab6bb3515f9086?s=256&d=identicon&r=PG","account_id":1558697,"user_type":"registered","user_id":1449105,"link":"https://stackoverflow.com/users/1449105/marcio-lucca","reputation":370,"display_name":"Marcio Lucca"},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/63384914/type-inference-with-method-reference-and-primitive-types","last_activity_date":1597421664,"creation_date":1597267523,"answer_count":3,"title":"Type inference with method reference and primitive types","body":"<p>Is there a way to tell Java to NOT try to infer a type from a method reference that uses primitive types?</p>\n<p>Here is a method that I wrote, the reason for this is irrelevant right now:</p>\n<pre><code>    public static &lt;F, T&gt; Predicate&lt;F&gt; isEquals(\n            Function&lt;F, T&gt; aInMapFunction, T aInExpectedValue)\n    {\n        return aInActual -&gt; Objects.equals(\n                aInMapFunction.apply(aInActual), aInExpectedValue);\n    }\n</code></pre>\n<p>Now, what if you pass a method reference to &quot;isEquals&quot; that returns a primitive type?</p>\n<pre><code>Predicate&lt;String&gt; lLengthIs20 = isEquals(String::length, 20);\n</code></pre>\n<p>This is all fine and dandy, except that Java will also accept this strange usage:</p>\n<pre><code>Predicate&lt;String&gt; lLengthIs20 = isEquals(String::length, &quot;what the heck?!?!?&quot;);\n</code></pre>\n<p>This is because the compiler will infer type parameter T as &quot;<code>Serializable &amp; Comparable&lt;? extends Serializable &amp; Comparable&lt;?&gt;&gt;</code>&quot;, which will accept both Integer and String types.</p>\n<p>This is undesirable, in my case, as I would like a compilation error rather than Java figuring out some crazy type argument. For my thing, I can also explicitly override method &quot;isEquals&quot; to take specific primitive types. For example:</p>\n<pre><code>    public static &lt;F&gt; Predicate&lt;F&gt; isEquals(\n            ToIntFunction&lt;F&gt; aInMapFunction, int aInExpectedValue)\n    {\n        return aInActual -&gt;\n                aInMapFunction.applyAsInt(aInActual) == aInExpectedValue;\n    }\n</code></pre>\n<p>This works fine, this method is invoked rather than the Object one when I pass in a method that returns a primitive int. The problem is that I still need the Object method, I cannot remove it, which will still cause the compiler to accept the weird invocation I listed above.</p>\n<p>So the question is: is there a way for me to tell Java to not use the Object version of isEquals when the method reference returns a primitive type? I couldn't find anything, I'm feeling I'm out of luck in this one.</p>\n<p>(NOTE: the actual implementation of the object version of isEquals works fine and should be safe. This is because Object.equals and Object<strong>s</strong>.equals accept Object parameters and a String object will never be equals to an Integer object. Semantically, however, this looks weird)</p>\n<p>EDIT: after the comment from &quot;paranoidAndroid&quot;, one idea that I just had is to wrap the method reference the following way:</p>\n<pre><code>    public static &lt;T&gt; Function&lt;T, Integer&gt; wrap(ToIntFunction&lt;T&gt; aInFunction)\n    {\n        return aInFunction::applyAsInt;\n    }\n</code></pre>\n<p>And now,</p>\n<pre><code>Predicate&lt;String&gt; lLengthIs20 = isEquals(wrap(String::length), &quot;what the heck?!?!?&quot;);\n</code></pre>\n<p>... generates a compilation error. Still not great though, maybe there is a better way. At least this is better than passing the type in explicitly, which kind of beats the purpose.</p>\n<p>EDIT 2: I'm in Java 8 right now. Java 11 might behave differently here, I didn't test.</p>\n<p>EDIT 3: I'm thinking there is nothing we can do here, this is just an implication of how type inference works in Java. Here is another example:</p>\n<pre><code>    public static &lt;T&gt; boolean isEquals(T t1, T t2) {\n        return Objects.equals(t1, t2);\n    }\n</code></pre>\n<p>with this method, the following expression is perfectly valid:</p>\n<pre><code>System.out.println(isEquals(10, &quot;20&quot;));\n</code></pre>\n<p>This works because Java will try to resolve the type for T based on a common upper bound. It just happens that both Integer and String share the same upper bound <code>Serializable &amp; Comparable&lt;? extends Serializable &amp; Comparable&lt;?&gt;&gt;</code></p>\n","question_id":63384914,"tags":["java","generics","type-inference"],"score":8,"is_answered":true,"view_count":585,"last_edit_date":1597361783},{"owner":{"profile_image":"https://i.stack.imgur.com/Mo0at.jpg?s=256&g=1","account_id":1135699,"user_type":"registered","user_id":1120793,"link":"https://stackoverflow.com/users/1120793/darshan-mehta","reputation":30287,"display_name":"Darshan Mehta","accept_rate":35},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/63411281/convert-generic-types-to-objects","last_activity_date":1597411987,"creation_date":1597402005,"answer_count":2,"title":"Convert Generic Types to Objects","body":"<p>I am writing a transformer to convert <code>String</code> input to output of custom type. Here's how the <code>interface</code> looks like:</p>\n<pre><code>public interface Transformer&lt;T&gt; {\n    public T transform(String input);\n}\n</code></pre>\n<p>There will multiple implementations of it (i.e. <code>IntegerTransformer</code>, <code>ByteTransformer</code> etc). I have written a factory that returns these transformers, e.g.:</p>\n<pre><code>public class TransformerFactory {\n    public &lt;T&gt; Transformer&lt;T&gt; getTransformer(final SomeEnum enum, final T type) {\n        switch(enum) {\n        case FOO:\n            return new IntegerTransformer();\n        case BAR:\n            return new ByteTransformer();\n            default:\n                throw new Exception(&quot;blah&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In my <code>main</code> class, I am doing this:</p>\n<pre><code>factory.getTransformer(foo, Integer.class).transform(input);\n</code></pre>\n<p>This results in the following error:</p>\n<pre><code>Type mismatch: cannot convert from Class&lt;Integer&gt; to Integer\n</code></pre>\n<p>So, I somehow need to convert <code>Type</code> literal to <code>Object</code>. Is there any way I can do that without modifying the generic structure of interface and factory?</p>\n","question_id":63411281,"tags":["java","generics","transform","factory"],"score":0,"accepted_answer_id":63413798,"is_answered":true,"view_count":153},{"owner":{"profile_image":"https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=256&d=identicon&r=PG","account_id":1810904,"user_type":"registered","user_id":1646996,"link":"https://stackoverflow.com/users/1646996/qqibrow","reputation":2972,"display_name":"qqibrow","accept_rate":84},"content_license":"CC BY-SA 3.0","link":"https://stackoverflow.com/questions/39889498/trouble-initialize-listobject-using-arrays-aslist","last_activity_date":1597392756,"creation_date":1475737163,"answer_count":7,"title":"trouble initialize List&lt;Object[]&gt; Using Arrays.asList","body":"<p>When I initialize List, I am able to do this:</p>\n\n<pre><code>List&lt;Object[]&gt; foo = new ArrayList&lt;&gt;();\nfoo.add(new Object[]{816, \"foo\", 2.6});\n</code></pre>\n\n<p>But when I want to simplify it using <code>Arrays.asList</code>:</p>\n\n<pre><code>List&lt;Object[]&gt; bar = Arrays.asList(new Object[]{\"bar\", 286});\n</code></pre>\n\n<p>It cannot compile with error:</p>\n\n<pre><code>incompatible types: inference variable T has incompatible bounds\nequality constraints: java.lang.Object[]\nlower bounds: java.lang.Object\n</code></pre>\n\n<p>Why it cannot do the type inference right and how to fix this?</p>\n","question_id":39889498,"tags":["java","list","generics"],"score":14,"accepted_answer_id":39890475,"is_answered":true,"view_count":6516,"last_edit_date":1475755195},{"owner":{"profile_image":"https://lh5.googleusercontent.com/-Coo1HnLxk0w/AAAAAAAAAAI/AAAAAAAABj8/zsay9km3XP0/photo.jpg?sz=256","account_id":5199414,"user_type":"registered","user_id":4159389,"link":"https://stackoverflow.com/users/4159389/rahul-vedpathak","reputation":1366,"display_name":"Rahul Vedpathak","accept_rate":0},"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/63393807/optional-generic-type-argument","last_activity_date":1597386166,"creation_date":1597316775,"answer_count":3,"title":"Optional generic type argument","body":"<p>I want to declare a generic class that will work on triplets - <code>key</code>, <code>value</code> and <code>metadata</code>.</p>\n<p>The <code>key</code> and <code>value</code> fields are mandatory but the <code>metadata</code> field is optional.</p>\n<pre><code>class Triplet&lt;K,V,M&gt;{\n    K key;\n    V value;\n    M metadata;\n    //setters and getters\n}\n</code></pre>\n<p>While using the above class I have to initialize it like below -</p>\n<pre><code>Triplet&lt;Integer, String, String&gt; t1 = new Triplet&lt;&gt;();\n// Setters\n</code></pre>\n<p>But for some use cases <code>metadata</code> is optional. So when I use <code>null</code> as the 3rd type argument, the compiler gives an error -</p>\n<pre><code>Triplet&lt;Integer, String, null&gt; t2 = new Triplet&lt;&gt;();\n</code></pre>\n<p>How should I correctly instantiate a parameterized type that works for multiple types, where one of the type arguments specified at the use-site is optional?</p>\n","question_id":63393807,"tags":["java","generics","java-8"],"score":9,"is_answered":true,"view_count":1634,"last_edit_date":1597386166}]